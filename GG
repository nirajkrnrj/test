ZnVuY3Rpb24gZG9tYWluQ29udmVydGVyKFN0cmluZyB3ZWJBdmxiQ2QpOlN0cmluZw0KICAgew0KICAgU3RyaW5nIGRvbWFpbiA7DQogICAvL2NvbnZlcnRpbmcgd2ViIGF2YWlsaWJpbHR5IGNvZGUgZm9yIGNvbXBhcmlzb24gDQogICANCiAgIA0KICAgaXMgKHdlYkF2bGJDZCkgDQogICAgICB7DQogICAgICAiMSIgOiBkb21haW4gPSAifEhNfERCfERDfFNBIjsNCiAgICAgICIyIiA6IGRvbWFpbiA9ICJ8SE0iOw0KICAgICAgIjMiIDogZG9tYWluID0gInxEQiI7DQogICAgICAiNCIgOiBkb21haW4gPSAifERDIjsNCiAgICAgICI1IiA6IGRvbWFpbiA9ICJ8SE18REIiOw0KICAgICAgIjYiIDogZG9tYWluID0gInxITXxEQyI7ICAgICAgICAgDQogICAgICAiNyIgOiBkb21haW4gPSAifERCfERDIjsNCiAgICAgIH0gDQogICANCiAgIHJldHVybiBkb21haW47DQogICB9DQoNCmZ1bmN0aW9uIGdldEFtb3VudGZvcm1hdHRlZChEb3VibGUgQW1vdW50KSA6U3RyaW5nDQogICB7DQogICBpZihBbW91bnQgIT0gLTk5OS45MDAwMDApDQogICAgICB7DQogICAgICByZXR1cm4gQW1vdW50LnRvU3RyaW5nKDIsMikgKyAiJSI7DQogICAgICB9DQogICBlbHNlDQogICAgICB7DQogICAgICByZXR1cm4gIk4vQSI7DQogICAgICB9DQogICB9DQoNCg0KDQoNCg0KLyoqKioqKioqKioqKipGdW5jdGlvbiBHZXQgSG9tZSoqKioqKioqKioqKioqKioqKiovICANCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLyAgDQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8gDQogICANCmZ1bmN0aW9uIGdldEhvbWVBZGRyZXNzKEludCBQQ1NJbmRleCwgU3RyaW5nIEhvbWVBZGRyZXNzKTpTdHJpbmcNCnsNCmZvciAoSW50IGkgPSAwOyBpIDwgSW5wdXRfMC5QQ1NbUENTSW5kZXhdLl8zNjYzQS5Db3VudDtpKyspDQp7DQppZihJbnB1dF8wLlBDU1tQQ1NJbmRleF0uXzUzMTRBLkNvdW50PjApDQogICB7DQppZihJbnB1dF8wLlBDU1tQQ1NJbmRleF0uXzM2NjNBW2ldLkFkZHJfSWQgPT0gSW5wdXRfMC5QQ1NbUENTSW5kZXhdLl81MzE0QVswXS5QcmVmZF9NYWlsX0FkZHJfSWQpDQp7DQoNCnJldHVybiAoSW5wdXRfMC5QQ1NbUENTSW5kZXhdLl8zNjYzQVtpXS5BZGRyX0xkc2NfVHgpOw0KfX19fQ0KDQoNCg0KDQovKioqKioqKioqKioqKkZ1bmN0aW9uIEdldCBlbWFpbCoqKioqKioqKioqKioqKioqKiovICANCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLyAgDQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8gIA0KLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovIA0KLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQpmdW5jdGlvbiBnZXRlbWFpbFByb3ZpZGVyKEludCBQQ1NJbmRleCwgU3RyaW5nIGVtYWlscHJvdmlkZXIpOlN0cmluZw0Kew0KDQpmb3IgKEludCBpID0gMDsgaSA8IElucHV0XzAuUENTW1BDU0luZGV4XS5fMzY2M0EuQ291bnQ7IGkrKykNCnsNCmlmKElucHV0XzAuUENTW1BDU0luZGV4XS5fNTMxNEEuQ291bnQ+MCkNCiAgIHsNCmlmKElucHV0XzAuUENTW1BDU0luZGV4XS5fMzY2M0FbaV0uQWRkcl9JZCA9PSBJbnB1dF8wLlBDU1tQQ1NJbmRleF0uXzUzMTRBWzBdLlByZWZkX0VtYWxfQWRkcl9JZCkNCnsNCg0KcmV0dXJuIChJbnB1dF8wLlBDU1tQQ1NJbmRleF0uXzM2NjNBW2ldLkFkZHJfTGRzY19UeCk7DQp9DQp9DQp9ICANCn0NCg0KDQovLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQoNCg0KZnVuY3Rpb24gd2ViUmVmZXJlbmNlQ2hlY2soU3RyaW5nIENtcHNBcHBsQ2QsIFN0cmluZyB3ZWJBdmxiQ2QsIEJvb2wgZGJXZWJBdmxiQ29kZSwgQm9vbCBjbVdlYkF2bGJDZCk6U3RyaW5nDQogICB7DQogICBJbnQgaSA9IDA7DQogICBTdHJpbmcgd2ViUmVmZXJlbmNlOw0KICAgDQogICAvL3ZhciBkb21haW4gPSBuZXcgQXJyYXkoKTsNCiAgIA0KICAgLy9jb252ZXJ0aW5nIHdlYiBhdmFpbGliaWx0eSBjb2RlIGZvciBjb21wYXJpc29uIA0KICAgaWYgKENtcHNBcHBsQ2QgIT0gIkNNIikNCiAgICAgIHsNCiAgICAgIC8vIEFkZGVkIGNvZGUgZm9yIEJQIGRvbWFpbi4gZGVmZWN0ICMzMzk3IDAyLjI5LjIwMTINCiAgICAgIC8vLS0tLVN0YXJ0DQogICAgICBpZigoQ21wc0FwcGxDZCAhPSAiSE0iIGFuZCBDbXBzQXBwbENkICE9ICJEQiIgYW5kIENtcHNBcHBsQ2QgIT0gIkRDIikgYW5kIHdlYkF2bGJDZCAhPSAiOCIpDQogICAgICAgICB7DQogICAgICAgICB3ZWJSZWZlcmVuY2UgPSAidHJ1ZSI7DQogICAgICAgICB9DQogICAgICAvLy0tLS1FTkQNCiAgICAgIA0KICAgICAgU3RyaW5nIGRvbWFpbiA9IGRvbWFpbkNvbnZlcnRlcih3ZWJBdmxiQ2QpOw0KICAgICAgLy9jb21wYXJpbmcNCiAgICAgIGZvciAoaSA9IDE7IGkgPD0gZG9tYWluLmNvdW50T2NjdXJyZW5jZXMoInwiKTsgaSsrKQ0KICAgICAgICAgew0KICAgICAgICAgaWYgKGRvbWFpbi5QYXJ0W2ksInwiXSA9PSBDbXBzQXBwbENkKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgaWYgKENtcHNBcHBsQ2QgPT0gIkRCIikNCiAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIGlmIChkYldlYkF2bGJDb2RlID09IHRydWUpDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICB3ZWJSZWZlcmVuY2UgPSAidHJ1ZSI7DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIHdlYlJlZmVyZW5jZSA9ICJ0cnVlIjsNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgIH0gICANCiAgICAgIH0NCiAgIGVsc2UvL2Vsc2UgaWYgKENtcHNBcHBsQ2QgPT0gIkNNIikgLS0gdG9vayB0aGlzIG91dCAtLSBpdCBpcyB1bm5lY2Vzc2FyeQ0KICAgICAgew0KICAgICAgaWYgKHdlYkF2bGJDZCAhPSAiOCIpDQogICAgICAgICB7DQogICAgICAgICBpZiAoY21XZWJBdmxiQ2QgPT0gZmFsc2UgKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgd2ViUmVmZXJlbmNlID0gImZhbHNlIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgIC8vfWVsc2UgaWYgKCAoQ21wc0FwcGxDZCAhPSAiSE0iIHx8IENtcHNBcHBsQ2QgIT0gIkRCIiB8fCBDbXBzQXBwbENkICE9ICJEQyIpICYmIHdlYkF2bGJDZCAhPSAiOCIpDQogICAgICAgICAvLyB0b29rIG91dCB0aGUgYWJvdmUgY2hlY2tzIGZvciB0aGUgZG9tYWluLCBzaW5jZSB3ZSBrbm93IHRoZXkgbXVzdCBiZSB0cnVlOyB3ZSBhcmUgaW4NCiAgICAgICAgIC8vIGNvZGUgdGhhdCBvbmx5IGV4ZWN1dGVzIHdoZW4gQ21wc0FwcGxDZCA9PSAiQ00iDQogICAgICAgICBlbHNlIA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgd2ViUmVmZXJlbmNlID0gInRydWUiOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgfQ0KICAgICAgDQogICAgICB9DQogICByZXR1cm4gd2ViUmVmZXJlbmNlOw0KICAgfQ0KDQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIE5hbWUgICAgICAgICAgICAgICA6IGdldDE5MTlBX0JyYW5kZWREYXRlUmV0cmlldmFsKEJybmRDZF9Pcl9EZm5JRCBhcyBTdHJpbmcpDQoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQpmdW5jdGlvbiBnZXQxOTE5QV9CcmFuZGVkRGF0ZVJldHJpZXZhbChJbnQgUENTSW5kZXgsIFN0cmluZyBCcm5kQ2RfT3JfRGZuSUQpOlN0cmluZw0KICAgew0KICAgZm9yIChJbnQgaSA9IDA7IGkgPCBJbnB1dF8wLlBDU1tQQ1NJbmRleF0uXzE5MTlBLkNvdW50OyBpKyspDQogICAgICB7DQogICAgICAvLyB2YXIgYnJhbmRDb2RlZE9iamVjdCA9IFBDUy5fMTkxOUFbaV07DQogICAgICAvL0lzTm90TWlzc2luZyh2YWx1ZSkNCiAgICAgIFN0cmluZyBjdXJyVmFyTmFtZTsNCiAgICAgIERvdWJsZSBudW1lcmljRGF0ZTsNCiAgICAgIA0KICAgICAgaWYgKG5vdCBCcm5kQ2RfT3JfRGZuSUQuaXNOdW1lcmljKG51bWVyaWNEYXRlKSkNCiAgICAgICAgIHsNCiAgICAgICAgIGlmIChJbnB1dF8wLlBDU1tQQ1NJbmRleF0uXzE5MTlBW2ldLkR0X1J0cnZfQnJuZF9DZC5MZW5ndGggPiAwKSAgIC8vbm90IGJsYW5rDQogICAgICAgICAgICB7DQogICAgICAgICAgICBjdXJyVmFyTmFtZSA9SW5wdXRfMC5QQ1NbUENTSW5kZXhdLl8xOTE5QVtpXS5EdF9SdHJ2X0JybmRfQ2Q7DQogICAgICAgICAgICBCcm5kQ2RfT3JfRGZuSUQucmVwbGFjZSggIl8iLCAiLSIpOyAvLyBpcyBCcm5kQ2RfT3JfRGZuSUQgaGFzIGEgdmFsdWUgbGlrZSB0aGlzICJTQUFfSENSQV9FTkRfRFQiDQogICAgICAgICAgICBpZiAoKEJybmRDZF9Pcl9EZm5JRC50b1VwcGVyQ2FzZSgpID09IGN1cnJWYXJOYW1lLnRvVXBwZXJDYXNlKCkpKQ0KICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICByZXR1cm4gSW5wdXRfMC5QQ1NbUENTSW5kZXhdLl8xOTE5QVtpXS5SdHJ2X0R0LmZvcm1hdCgiTU1NTSBkLCB5eXl5IiwgImVuIik7DQogICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgIH0NCiAgICAgIGVsc2UNCiAgICAgICAgIHsNCiAgICAgICAgIGlmIChJbnB1dF8wLlBDU1tQQ1NJbmRleF0uXzE5MTlBW2ldLkR0X1J0cnZfQnJuZF9DZC5MZW5ndGggPiAwKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgcmV0dXJuIElucHV0XzAuUENTW1BDU0luZGV4XS5fMTkxOUFbaV0uUnRydl9EdC5mb3JtYXQoIk1NTU0gZCwgeXl5eSIsICJlbiIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgLypUaGUgZm9sbG93aW5nICJJZiIgc3RhdGVtZW50IGlzIG5vdCB3b3JraW5nIGFzIGV4cGVjdGVkLCBzbyB0aGUgIklmIiBhYm92ZSBpcyBpbnRlbmRlZCB0byByZXBsYWNlIGl0DQogICAgICAgICBpZiAoSXNOb3RNaXNzaW5nKGJyYW5kQ29kZWRPYmplY3QuRHRfUnRydl9EZm5fSWQpICYmIGJyYW5kQ29kZWRPYmplY3QuRHRfUnRydl9EZm5fSWQgIT0gMCkNCiAgICAgICAgIHsNCiAgICAgICAgIGN1cnJWYXJOYW1lID0gRm9ybWF0TnVtYmVyKGJyYW5kQ29kZWRPYmplY3QuRHRfUnRydl9EZm5fSWQsICIjIik7IC8vIE51bWVyaWMgdmFsdWUgdG8gU3RyaW5nIGNvbnZlcnNpb24NCiAgICAgICAgIEJybmRDZF9Pcl9EZm5JRCA9IFJlcGxhY2UoQnJuZENkX09yX0RmbklELCAiXyIsICItIik7IC8vIGlzIEJybmRDZF9Pcl9EZm5JRCBoYXMgYSB2YWx1ZSBsaWtlIHRoaXMgIlNBQV9IQ1JBX0VORF9EVCINCiAgICAgICAgIGlmIChFcXVhbHNJZ25vcmVDYXNlKEJybmRDZF9Pcl9EZm5JRCwgY3VyclZhck5hbWUpKQ0KICAgICAgICAgew0KICAgICAgICAgcmV0dXJuIGJyYW5kQ29kZWRPYmplY3QuUnRydl9EdDsNCiAgICAgICAgIH0gDQogICAgICAgICB9ICovDQogICAgICAgICB9DQogICAgICB9DQogICByZXR1cm4gIiI7DQogICB9DQoNCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCg0KDQovLy8vLy8vLy8vL0ZVTkNUSU9OIDE4NTlBDQoNCmZ1bmN0aW9uIGdldDE4NTlBX0R5bmFtaWNWYXJpYWJsZVZhbHVlKEludCBQQ1NJbmRleCxTdHJpbmcgZHluYW1pY1ZhcmlhYmxlTmFtZSk6U3RyaW5nDQogICB7DQogICANCiAgIGZvcihJbnQgaSA9IDA7IGkgPCBJbnB1dF8wLlBDU1tQQ1NJbmRleF0uXzE4NTlBLkNvdW50OyBpKyspDQogICAgICB7ICAgICAgICAgICAgICANCiAgICAgIHZhciBkeW5hbWljVmFyaWFibGVPYmplY3QgPSBJbnB1dF8wLlBDU1tQQ1NJbmRleF0uXzE4NTlBW2ldIDsNCiAgICAgIGR5bmFtaWNWYXJpYWJsZU5hbWUucmVwbGFjZSgiXyIsICItIikgOy8vIFJlcGxhY2UoZHluYW1pY1ZhcmlhYmxlTmFtZSwgIl8iLCAiLSIpOw0KICAgICAgaWYgKGR5bmFtaWNWYXJpYWJsZU9iamVjdC5DZGRfRmxkX0ludG5fSWQhPSIiKQ0KICAgICAgICAgew0KICAgICAgICAgDQogICAgICAgICBpZigoZHluYW1pY1ZhcmlhYmxlT2JqZWN0LkNkZF9GbGRfSW50bl9JZC5lcXVhbChkeW5hbWljVmFyaWFibGVOYW1lKSApKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgcmV0dXJuIGR5bmFtaWNWYXJpYWJsZU9iamVjdC5DZGhfRmxkX1ZsX1R4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgfQ0KICAgICAgDQogICAgICB9DQogICByZXR1cm4gIiI7DQogICB9DQoNCg0KZnVuY3Rpb24gZ2V0MTg1OUR5bmFtaWNWYXJpYWJsZVZhbHVlKEludCBQQ1NJbmRleCxTdHJpbmcgZHluYW1pY1ZhcmlhYmxlTmFtZSk6U3RyaW5nICAgIA0Kew0KICAgIC8vIFJlcGxhY2UgdW5kZXJzY29yZXMgd2l0aCBoeXBoZW5zDQogICAgZHluYW1pY1ZhcmlhYmxlTmFtZS5yZXBsYWNlKCJfIiwgIi0iKTsNCg0KICAgIA0KICAgICAgIGZvciAoSW50IGo9MDsgajxJbnB1dF8wLlBDU1tQQ1NJbmRleF0uXzE4NTlBLkNvdW50OyBqKyspew0KICAgICAgICB2YXIgZHluYW1pY1ZhcmlhYmxlT2JqZWN0ID0gSW5wdXRfMC5QQ1NbUENTSW5kZXhdLl8xODU5QVtqXTsNCg0KICAgICAgICAvLyBDaGVjayBpZiB0aGUgYnJhbmRlZCBjb2RlIG1hdGNoZXMgdGhlIGdpdmVuIG5hbWUNCiAgICAgICAgaWYgKG5vdCBkeW5hbWljVmFyaWFibGVPYmplY3QuQ2RkX0ZsZF9Ccm5kX0NkLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgaWYgKGR5bmFtaWNWYXJpYWJsZU9iamVjdC5DZGRfRmxkX0JybmRfQ2QuZXF1YWxDYXNlSW5zZW5zaXRpdmUoZHluYW1pY1ZhcmlhYmxlTmFtZSkpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gZHluYW1pY1ZhcmlhYmxlT2JqZWN0LkNkaF9GbGRfVmxfVHg7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgDQogICAgICAgIH0NCiAgICAgICAgDQogICAgDQogcmV0dXJuICIiOw0KIH0NCg0KZnVuY3Rpb24gZ2V0MTg1OUFfRHluYW1pY1ZhcmlhYmxlVmFsdWUyKEludCBQQ1NJbmRleCxTdHJpbmcgZHluYW1pY1ZhcmlhYmxlTmFtZSk6U3RyaW5nDQogICB7DQogICANCiAgIGZvcihJbnQgaSA9IDA7IGkgPCBJbnB1dF8wLlBDU1tQQ1NJbmRleF0uXzE4NTlBLkNvdW50OyBpKyspDQogICAgICB7ICAgICAgICAgICAgICANCiAgICAgIHZhciBkeW5hbWljVmFyaWFibGVPYmplY3QgPSBJbnB1dF8wLlBDU1tQQ1NJbmRleF0uXzE4NTlBW2ldIDsNCiAgICAgIGR5bmFtaWNWYXJpYWJsZU5hbWUucmVwbGFjZSgiXyIsICItIikgOy8vIFJlcGxhY2UoZHluYW1pY1ZhcmlhYmxlTmFtZSwgIl8iLCAiLSIpOw0KICAgICAgaWYgKGR5bmFtaWNWYXJpYWJsZU9iamVjdC5DZGRfRmxkX0JybmRfQ2QhPSIiKQ0KICAgICAgICAgew0KICAgICAgICAgDQogICAgICAgICBpZigoZHluYW1pY1ZhcmlhYmxlT2JqZWN0LkNkZF9GbGRfQnJuZF9DZC5lcXVhbENhc2VJbnNlbnNpdGl2ZShkeW5hbWljVmFyaWFibGVOYW1lKSApKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgcmV0dXJuIGR5bmFtaWNWYXJpYWJsZU9iamVjdC5DZGhfRmxkX1ZsX1R4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgfQ0KICAgICANCiAgICAgIH0NCiAgIHJldHVybiAiIjsNCiAgIH0NCg0KDQoNCg0KDQoNCg0KZnVuY3Rpb24gZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZVZhbHVlKEludCBQQ1NJbmRleCwgU3RyaW5nIGJyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZU5hbWUpOlN0cmluZyB7DQogICBmb3IgKEludCBpID0gMDsgaSA8IElucHV0XzAuUENTW1BDU0luZGV4XS5fMzY4M0EuQ291bnQ7IGkrKykgew0KICAgdmFyIGJyYW5kQ29kZWRPYmplY3QgPSBJbnB1dF8wLlBDU1tQQ1NJbmRleF0uXzM2ODNBW2ldOw0KICAgU3RyaW5nIGN1cnJWYXJOYW1lOw0KICAgaWYgKChicmFuZGVkU2VsZWN0aW9uVmFyaWFibGVOYW1lKS5MZW5ndGggPiAwKSAvL21ha2Ugc3VyZSBhIHJlYWwgdmFsdWUgd2FzIHBhc3NlZA0KICAgICAgew0KICAgICAgaWYgKChicmFuZENvZGVkT2JqZWN0LlNsY3RfRGZuX0JybmRfQ2QuTGVuZ3RoID4gMCkgYW5kIChicmFuZENvZGVkT2JqZWN0LlNsY3RfRGZuX0JybmRfQ2QgIT0gIiIpKSANCiAgICAgICAgIHsNCiAgICAgICAgIGN1cnJWYXJOYW1lID0gYnJhbmRDb2RlZE9iamVjdC5TbGN0X0Rmbl9Ccm5kX0NkOw0KICAgICAgICAgYnJhbmRlZFNlbGVjdGlvblZhcmlhYmxlTmFtZS5yZXBsYWNlKCJfIiwgIi0iKTsgLy8gaXNCcm5kQ2RfT3JfRGZuSUQgaGFzIGEgdmFsdWUgbGlrZSB0aGlzICJTQUFfSENSQV9FTkRfRFQiDQogICAgICAgICBpZiAoKGJyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZU5hbWUudG9Mb3dlckNhc2UoKSA9PSBjdXJyVmFyTmFtZS50b0xvd2VyQ2FzZSgpKSkgDQogICAgICAgICAgICB7DQogICAgICAgICAgICBpZiAoYnJhbmRDb2RlZE9iamVjdC5SdWxlX1Bhc3NfQ2QpIHJldHVybiAiWSI7DQogICAgICAgICAgICByZXR1cm4gIk4iOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgfQ0KICAgICAgfSBlbHNlIA0KICAgICAgICAgew0KICAgICAgICAgaWYgKGJyYW5kQ29kZWRPYmplY3QuU2xjdF9EZm5fSWQgIT0gMCkgDQogICAgICAgICAgICB7DQogICAgICAgICAgICBjdXJyVmFyTmFtZSA9IGJyYW5kQ29kZWRPYmplY3QuU2xjdF9EZm5fSWQudG9TdHJpbmcoKTsNCiAgICAgICAgICAgIGlmIChicmFuZGVkU2VsZWN0aW9uVmFyaWFibGVOYW1lID09IGN1cnJWYXJOYW1lKSB7DQogICAgICAgICAgICAgICBpZiAoIGJyYW5kQ29kZWRPYmplY3QuUnVsZV9QYXNzX0NkKSByZXR1cm4gIlkiOw0KICAgICAgICAgICAgICAgcmV0dXJuICJOIjsNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgIC8qVGhlIGZvbGxvd2luZyAiSWYiIHN0YXRlbWVudCBpcyBub3Qgd29ya2luZyBhcyBleHBlY3RlZCwgc28gdGhlICJJZiIgYWJvdmUgaXMgaW50ZW5kZWQgdG8gcmVwbGFjZSBpdA0KICAgICAgICAgaWYgKElzTm90TWlzc2luZyhicmFuZENvZGVkT2JqZWN0LlNsY3RfRGZuX0lkKSAmJiBicmFuZENvZGVkT2JqZWN0LlNsY3RfRGZuX0lkICE9IDApDQogICAgICAgICB7DQogICAgICAgICBjdXJyVmFyTmFtZSA9IEZvcm1hdE51bWJlcihicmFuZENvZGVkT2JqZWN0LlNsY3RfRGZuX0lkLCAiIyIpOyAvLyBOdW1lcmljIHZhbHVlIHRvIFN0cmluZ2NvbnZlcnNpb24NCiAgICAgICAgIGJyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZU5hbWUgPSBSZXBsYWNlKGJyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZU5hbWUsICJfIiwgIi0iKTsgLy8gaXNCcm5kQ2RfT3JfRGZuSUQgaGFzIGEgdmFsdWUgbGlrZSB0aGlzICJTQUFfSENSQV9FTkRfRFQiDQogICAgICAgICBpZiAoRXF1YWxzSWdub3JlQ2FzZShicmFuZGVkU2VsZWN0aW9uVmFyaWFibGVOYW1lLCBjdXJyVmFyTmFtZSkpDQogICAgICAgICB7DQogICAgICAgICBpZiAoSXNOb3RNaXNzaW5nKGJyYW5kQ29kZWRPYmplY3QuUnVsZV9QYXNzX0NkKSAmJiBicmFuZENvZGVkT2JqZWN0LlJ1bGVfUGFzc19DZCkgcmV0dXJuICJZIjsNCiAgICAgICAgIH0NCiAgICAgICAgIH0gKi8NCiAgICAgICAgIH0NCiAgICAgIH0NCiAgIHJldHVybiAiIjsNCiAgIH0NCg0KDQoNCmZ1bmN0aW9uIGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVDb2RlT3JEZm5JZFN0cmluZyhJbnQgUENTSW5kZXgsIFN0cmluZyBicmFuZGVkU2VsZWN0aW9uVmFyaWFibGVOYW1lKTpTdHJpbmcNCiAgIHsNCiAgIGZvcihJbnQgaSA9IDA7IGkgPCBJbnB1dF8wLlBDU1tQQ1NJbmRleF0uXzM2ODNBLkNvdW50OyBpKyspDQogICAgICB7ICAgICAgICAgICAgICANCiAgICAgIC8vIHZhciBicmFuZENvZGVkT2JqZWN0ID0gUENTLl8zNjgzQVtpXTsNCiAgICAgIFN0cmluZyBjdXJyVmFyTmFtZTsNCiAgICAgIGlmIChJbnB1dF8wLlBDU1tQQ1NJbmRleF0uXzM2ODNBW2ldLlNsY3RfRGZuX0JybmRfQ2QgIT0gIiIpDQogICAgICAgICB7DQogICAgICAgICBjdXJyVmFyTmFtZSA9IElucHV0XzAuUENTW1BDU0luZGV4XS5fMzY4M0FbaV0uU2xjdF9EZm5fQnJuZF9DZDsNCiAgICAgICAgIGJyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZU5hbWUucmVwbGFjZSgiXyIsICItIik7IC8vIGlmIEJybmRDZF9Pcl9EZm5JRCBoYXMgYSB2YWx1ZSBsaWtlIHRoaXMgIlNBQV9IQ1JBX0VORF9EVCINCiAgICAgICAgIGlmIChicmFuZGVkU2VsZWN0aW9uVmFyaWFibGVOYW1lLnRvVXBwZXJDYXNlKCkgPT0gY3VyclZhck5hbWUudG9VcHBlckNhc2UoKSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgIGlmKElucHV0XzAuUENTW1BDU0luZGV4XS5fMzY4M0FbaV0uUnVsZV9QYXNzX0NkKQ0KICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgcmV0dXJuICJZIjsNCiAgICAgICAgICAgICAgIH0gDQogICAgICAgICAgICBlbHNlICAgcmV0dXJuICJOIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgIH0NCiAgICAgIH0NCiAgIA0KICAgfQ0KDQpmdW5jdGlvbiBnZXQwNDY1QV9iYWx2bGF0MShJbnQgUENTSW5kZXgsIFN0cmluZyB0b3RWYWwpOlN0cmluZyB7DQogICBmb3IoSW50IGk7IGkgPCBJbnB1dF8wLlBDU1tQQ1NJbmRleF0uXzA0NjVBLkNvdW50OyBpKyspDQogICB7DQogICBpZiAodG90VmFsID09IElucHV0XzAuUENTW1BDU0luZGV4XS5fMDQ2NUFbaV0uQmxncF9Ccm5kX0NkKQ0KICAgICAgew0KICAgICAgcmV0dXJuIElucHV0XzAuUENTW1BDU0luZGV4XS5fMDQ2NUFbaV0uQmxncF9Ccm5kX0NkOw0KICAgICAgfQ0KICAgfQ0KcmV0dXJuICIiOw0KfQ0KLyoqKioqKioqKioqKioqKioqKioqDQovKioqKioqKioqKioqKioqKioqKioNCi8qKioqKioqKioqKioqKioqKioqKg0KLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgQ3JlYXRlIERhdGUgRm9ybWF0cw0KLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQovKioqKioqKioqKioqKioqKioqKioNCioqKioqKioqKioqKioqKioqKioqKi8NCg0KDQpmb3IgKEludCByZWNvcmRzOyByZWNvcmRzIDwgSW5wdXRfMC5QQ1MuQ291bnQ7IHJlY29yZHMrKykNCiAgIHsNCiAgIA0KICAgT3V0cHV0XzAuUENTLlN5c3RlbURhdGVUaW1lICA9IERhdGVUaW1lLk5vdzsNCiAgIA0KICAgU3RyaW5nIENtcHNBcHBsQ2QgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUyMjdBWzBdLkNtcHNfQXBwbF9DZC5sZWZ0KDIpOw0KICAgU3RyaW5nIHdlYkF2bGJDZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5XZWJfQXZsYl9DZDsNCiAgIEJvb2wgZGJXZWJBdmxiQ29kZSA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5EYl9XZWJfQXZsYl9DZDsNCiAgIEJvb2wgY21XZWJBdmxiQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uQ21fV2ViX0F2bGJfQ2Q7DQogICANCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS53ZWJSZWZlcmVuY2UgPSB3ZWJSZWZlcmVuY2VDaGVjayhDbXBzQXBwbENkLCB3ZWJBdmxiQ2QsZGJXZWJBdmxiQ29kZSxjbVdlYkF2bGJDZCk7DQogICANCiAgIGlmKElucHV0XzAuUENTW3JlY29yZHNdLl8xODU5QS5Db3VudD4wKQ0KICAgICAgew0KICAgICAgaWYoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzE4NTlBWzBdLl8wODMxQS5Db3VudD4wKQ0KICAgICAgICAgew0KICAgICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5fMDgzMUEuUGxhbl9TZHNjX1R4ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzE4NTlBWzBdLl8wODMxQVswXS5QbGFuX0xkc2NfVHg7DQogICAgICAgICB9DQogICAgICB9DQogICANCiAgIA0KICAgDQogICANCiAgIA0KICAgaWYgKGdldDE5MTlBX0JyYW5kZWREYXRlUmV0cmlldmFsKHJlY29yZHMsICJBQ1QtRUZEVCIpIT0gIiIpDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE5MTlBLk5FWFRfQkRBWSA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MjI4QVswXS5DdXJyX0R0Ow0KICAgICAgfQ0KICAgDQogICBpZiAoZ2V0MTkxOUFfQnJhbmRlZERhdGVSZXRyaWV2YWwocmVjb3JkcywgIkxOLUFQUEwtUlRSTi1EVCIpPT0gIlkiKQ0KICAgICAgew0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xOTE5QS5SdHJ2X0R0MiA9IElucHV0XzAuUENTW3JlY29yZHNdLl8xOTE5QVswXS5SdHJ2X0R0Ow0KICAgICAgfQ0KICAgDQogICBpZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZTIocmVjb3JkcywiUHJpbWxvYW5hdC1VbmF2Iik9PSJZIiApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLlByaW1sb2FuYXRfVW5hdiA9dHJ1ZTsNCiAgICAgIH0NCiAgIGlmKGdldDE4NTlBX0R5bmFtaWNWYXJpYWJsZVZhbHVlMihyZWNvcmRzLCJQcmltLU5vdC1FbGlnIik9PSJZIiApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLlByaW1fTm90X0VsaWcgPXRydWU7DQogICAgICB9DQogICBpZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZTIocmVjb3JkcywiUHJpbS1BbXRkdWVtaXNzIik9PSJZIiApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLlByaW1fQW10ZHVlbWlzcyA9dHJ1ZTsNCiAgICAgIH0gDQogICBpZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZTIocmVjb3JkcywiUHJpbS1SY3ZhZnRyLUR0Iik9PSJZIiApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLlByaW1fUmN2YWZ0cl9EdCA9dHJ1ZTsNCiAgICAgIH0gDQogICBpZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZTIocmVjb3JkcywiUFJJTS1BTVREVUVNSVNTIik9PSJZIiApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLlByaW1fQW10ZHVlbWlzczIgPXRydWU7DQogICAgICB9DQogICBpZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZTIocmVjb3JkcywiUFJJTS1STlZTLVJNRExTIik9PSJZIiApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLlBSSU1fUk5WU19STURMUyA9dHJ1ZTsNCiAgICAgIH0NCiAgIGlmKGdldDE4NTlBX0R5bmFtaWNWYXJpYWJsZVZhbHVlMihyZWNvcmRzLCJQcmltLURvYy1OZWVkIik9PSJZIiApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLlByaW1fRG9jX05lZWQgPXRydWU7DQogICAgICB9DQogICBpZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZTIocmVjb3JkcywiUHJpbS1Oby1DdHJ0Iik9PSJZIiApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLlByaW1fTm9fQ3RydCA9dHJ1ZTsNCiAgICAgIH0NCiAgIGlmKGdldDE4NTlBX0R5bmFtaWNWYXJpYWJsZVZhbHVlMihyZWNvcmRzLCJQcmltbG9hbi1Ob2FkZHIiKT09IlkiICkNCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuUHJpbWxvYW5fTm9hZGRyID10cnVlOw0KICAgICAgfQ0KICAgaWYoZ2V0MTg1OUFfRHluYW1pY1ZhcmlhYmxlVmFsdWUyKHJlY29yZHMsIlByaW0tUHJjaC1QciIpPT0iWSIgKQ0KICAgICAgew0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5QcmltX1ByY2hfUHIgPXRydWU7DQogICAgICB9DQogICBpZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZTIocmVjb3JkcywiUHJpbS1ScXN0LUFtdCIpPT0iWSIgKQ0KICAgICAgew0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5QcmltX1Jxc3RfQW10ID10cnVlOw0KICAgICAgfQ0KICAgaWYoZ2V0MTg1OUFfRHluYW1pY1ZhcmlhYmxlVmFsdWUyKHJlY29yZHMsIlByaW0tRXN0bW5vYWRkciIpPT0iWSIgKQ0KICAgICAgew0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5QcmltX0VzdG1ub2FkZHIgPXRydWU7DQogICAgICB9DQogICBpZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZTIocmVjb3JkcywiUHJpbS1TZ250Iik9PSJZIiApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLlByaW1fU2dudCA9dHJ1ZTsNCiAgICAgIH0NCiAgIGlmKGdldDE4NTlBX0R5bmFtaWNWYXJpYWJsZVZhbHVlMihyZWNvcmRzLCJQcmltLURvd24tUG10Iik9PSJZIiApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLlByaW1fRG93bl9QbXQgPXRydWU7DQogICAgICB9DQogICBpZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZTIocmVjb3JkcywiUHJpbS1DbG9zLUR0Iik9PSJZIiApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLlByaW1fQ2xvc19EdCA9dHJ1ZTsNCiAgICAgIH0NCiAgIGlmKGdldDE4NTlBX0R5bmFtaWNWYXJpYWJsZVZhbHVlMihyZWNvcmRzLCJQcmltaGFuZHdyaXR0ZW4iKT09IlkiICkNCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuUHJpbWhhbmR3cml0dGVuID10cnVlOw0KICAgICAgfQ0KICAgaWYoZ2V0MTg1OUFfRHluYW1pY1ZhcmlhYmxlVmFsdWUyKHJlY29yZHMsIlByaW0tRm9ybS1pbmN0Iik9PSJZIiApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLlByaW1fQ2xvc19EdCA9dHJ1ZTsNCiAgICAgIH0NCiAgIGlmKGdldDE4NTlBX0R5bmFtaWNWYXJpYWJsZVZhbHVlMihyZWNvcmRzLCJQcmltLVNnbnQtU3BzIik9PSJZIiApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLlByaW1fU2dudF9TcHMgPXRydWU7DQogICAgICB9DQogICBpZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZTIocmVjb3JkcywiUHJpbS1JbGxlZ2libGUiKT09IlkiICkNCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuUHJpbV9JbGxlZ2libGUgPXRydWU7DQogICAgICB9DQogICBpZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZTIocmVjb3JkcywiUHJpbS1CdXlyLU1pc3MiKT09IlkiICkNCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuUHJpbV9CdXlyX01pc3MgPXRydWU7DQogICAgICB9DQogICBpZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZTIocmVjb3JkcywiUFJJTS1GVUxMQ1RSVC1NSVNTIik9PSJZIiApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLlBSSU1fRlVMTENUUlRfTUlTUyA9dHJ1ZTsNCiAgICAgIH0NCg0KLy9DTTAwNDEgRnVuY3Rpb25zDQogICANCmlmKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJNQUlMLVBSRUYtVVBEVCIpICA9PSJZIikgDQogICAgICB7T3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5NQUlMX1BSRUZfVVBEVCA9IHRydWU7DQogICB9DQplbHNlew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5NQUlMX1BSRUZfVVBEVCA9IGZhbHNlOyB9DQoNCmlmKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJXRUItUFJUTCIpICA9PSJZIikgDQogICAgICB7T3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5XRUJfUFJUTCA9IHRydWU7DQogICB9DQplbHNlew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5XRUJfUFJUTCA9IGZhbHNlOyB9DQoNCmlmKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJCRU5FLUVMRUNULVlCUiIpICA9PSJZIikgDQogICAgICB7T3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5CRU5FX0VMRUNUX1lCUiA9IHRydWU7DQogICB9DQplbHNlew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5CRU5FX0VMRUNUX1lCUiA9IGZhbHNlOyB9DQoNCg0KaWYoZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZVZhbHVlKHJlY29yZHMsIlNQTi1STFROIikgID09IlkiKSANCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLlNQTl9STFROID0gdHJ1ZTsNCiAgIH0NCmVsc2V7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLlNQTl9STFROID0gZmFsc2U7IH0NCg0KaWYoZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZVZhbHVlKHJlY29yZHMsIlJPVEgtQ05WUi1FWFNUIikgID09IlkiKSANCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLlJPVEhfQ05WUl9FWFNUID0gdHJ1ZTsNCiAgIH0NCmVsc2V7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLlJPVEhfQ05WUl9FWFNUID0gZmFsc2U7IH0NCg0KaWYoZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZVZhbHVlKHJlY29yZHMsIlJTVEMtUk9USC1BQ0NUIikgID09IlkiKSANCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLlJTVENfUk9USF9BQ0NUID0gdHJ1ZTsNCiAgIH0NCmVsc2V7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLlJTVENfUk9USF9BQ0NUID0gZmFsc2U7IH0NCg0KaWYoZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZVZhbHVlKHJlY29yZHMsIkNIS1JMVlJSVEhJUkEiKSAgPT0iWSIpIA0KICAgICAge091dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY4M0EuQ0hLUkxWUlJUSElSQSA9IHRydWU7DQogICB9DQplbHNlew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5DSEtSTFZSUlRISVJBID0gZmFsc2U7IH0NCg0KDQoNCi8vRk9STS1FWA0KaWYoZ2V0MTg1OUR5bmFtaWNWYXJpYWJsZVZhbHVlKHJlY29yZHMsIkRCLUJFTkUtRk9STS1FWCIpICA9PSJZIikNCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkRCX0JFTkVfRk9STV9FWCA9IHRydWU7DQogICB9DQplbHNlew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5EQl9CRU5FX0ZPUk1fRVggPSBmYWxzZTsgfQ0KDQppZihnZXQxODU5RHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiREMtQkVORS1GT1JNLUVYIikgID09IlkiKQ0KICAgICAge091dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuRENfQkVORV9GT1JNX0VYID0gdHJ1ZTsNCiAgIH0NCmVsc2V7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkRDX0JFTkVfRk9STV9FWCA9IGZhbHNlOyB9DQoNCiBpZihnZXQxODU5RHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiSE0tQkVORS1GT1JNLUVYIikgID09IlkiKQ0KICAgICAge091dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuSE1fQkVORV9GT1JNX0VYID0gdHJ1ZTsNCiAgIH0NCmVsc2V7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkhNX0JFTkVfRk9STV9FWCA9IGZhbHNlOyB9DQovL0lOQ1BMVA0KICBpZihnZXQxODU5RHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiREItQkVORS1JTkNQTFQiKSAgPT0iWSIpDQogICAgICB7T3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5EQl9CRU5FX0lOQ1BMVCA9IHRydWU7DQogICB9DQplbHNlew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5EQl9CRU5FX0lOQ1BMVCA9IGZhbHNlOyB9DQoNCmlmKGdldDE4NTlEeW5hbWljVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJEQy1CRU5FLUlOQ1BMVCIpICA9PSJZIikNCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkRDX0JFTkVfSU5DUExUID0gdHJ1ZTsNCiAgIH0NCmVsc2V7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkRDX0JFTkVfSU5DUExUID0gZmFsc2U7IH0NCg0KaWYoZ2V0MTg1OUR5bmFtaWNWYXJpYWJsZVZhbHVlKHJlY29yZHMsIkhNLUJFTkUtSU5DUExUIikgID09IlkiKQ0KICAgICAge091dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuSE1fQkVORV9JTkNQTFQgPSB0cnVlOw0KICAgfQ0KZWxzZXsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuSE1fQkVORV9JTkNQTFQgPSBmYWxzZTsgfQ0KLy9TQVJGDQppZihnZXQxODU5RHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiREItUFBULVNBUkYiKSAgPT0iWSIpDQogICAgICB7T3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5EQl9QUFRfU0FSRiA9IHRydWU7DQogICB9DQplbHNlew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5EQl9QUFRfU0FSRiA9IGZhbHNlOyB9DQoNCmlmKGdldDE4NTlEeW5hbWljVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJEQy1QUFQtU0FSRiIpICA9PSJZIikNCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkRDX1BQVF9TQVJGID0gdHJ1ZTsNCiAgIH0NCmVsc2V7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkRDX1BQVF9TQVJGID0gZmFsc2U7IH0NCg0KaWYoZ2V0MTg1OUR5bmFtaWNWYXJpYWJsZVZhbHVlKHJlY29yZHMsIkhNLVBQVC1TQVJGIikgID09IlkiKQ0KICAgICAge091dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuSE1fUFBUX1NBUkYgPSB0cnVlOw0KICAgfQ0KZWxzZXsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuSE1fUFBUX1NBUkYgPSBmYWxzZTsgfQ0KDQoNCi8vQURETA0KaWYoZ2V0MTg1OUR5bmFtaWNWYXJpYWJsZVZhbHVlKHJlY29yZHMsIkFEREwtSU5GTy1SUVIiKSAgPT0iWSIpDQogICAgICB7T3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5BRERMX0lORk9fUlFSID0gdHJ1ZTsNCiAgIH0NCmVsc2V7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkFERExfSU5GT19SUVIgPSBmYWxzZTsgfQ0KLy9OT0RUDQppZihnZXQxODU5RHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiREMtQkVORS1OTy1EVCIpICA9PSJZIikNCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkRDX0JFTkVfTk9fRFQgPSB0cnVlOw0KICAgfQ0KZWxzZXsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuRENfQkVORV9OT19EVCA9IGZhbHNlOyB9DQoNCmlmKGdldDE4NTlEeW5hbWljVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJEQi1CRU5FLU5PLURUIikgID09IlkiKQ0KICAgICAge091dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuREJfQkVORV9OT19EVCA9IHRydWU7DQogICB9DQplbHNlew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5EQl9CRU5FX05PX0RUID0gZmFsc2U7IH0NCi8vTlRSWQ0KaWYoZ2V0MTg1OUR5bmFtaWNWYXJpYWJsZVZhbHVlKHJlY29yZHMsIkRCLUJFTkUtTlRSWS1EVCIpICA9PSJZIikNCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkRCX0JFTkVfTlRSWV9EVCA9IHRydWU7DQogICB9DQplbHNlew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5EQl9CRU5FX05UUllfRFQgPSBmYWxzZTsgfQ0KDQppZihnZXQxODU5RHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiREMtQkVORS1OVFJZLURUIikgID09IlkiKQ0KICAgICAge091dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuRENfQkVORV9OVFJZX0RUID0gdHJ1ZTsNCiAgIH0NCmVsc2V7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkRDX0JFTkVfTlRSWV9EVCA9IGZhbHNlOyB9DQovL1NQU05UUlkNCmlmKGdldDE4NTlEeW5hbWljVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJEQi1CRU5FLVNQU05UUlkiKSAgPT0iWSIpDQogICAgICB7T3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5EQl9CRU5FX1NQU05UUlkgPSB0cnVlOw0KICAgfQ0KZWxzZXsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuREJfQkVORV9TUFNOVFJZID0gZmFsc2U7IH0NCg0KaWYoZ2V0MTg1OUR5bmFtaWNWYXJpYWJsZVZhbHVlKHJlY29yZHMsIkRDLUJFTkUtU1BTTlRSWSIpICA9PSJZIikNCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkRDX0JFTkVfU1BTTlRSWSA9IHRydWU7DQogICB9DQplbHNlew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5EQ19CRU5FX1NQU05UUlkgPSBmYWxzZTsgfQ0KLy9OVFJZLURUDQppZihnZXQxODU5RHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiREMtQkVORS1OVFJZLURUIikgID09IlkiKQ0KICAgICAge091dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuRENfQkVORV9OVFJZX0RUID0gdHJ1ZTsNCiAgIH0NCmVsc2V7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkRCX0JFTkVfTlRSWV9EVCA9IGZhbHNlOyB9DQoNCmlmKGdldDE4NTlEeW5hbWljVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJEQy1CRU5FLU5UUlktRFQiKSAgPT0iWSIpDQogICAgICB7T3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5EQ19CRU5FX05UUllfRFQgPSB0cnVlOw0KICAgfQ0KZWxzZXsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuRENfQkVORV9OVFJZX0RUID0gZmFsc2U7IH0NCi8vTlRSWUJFRg0KaWYoZ2V0MTg1OUR5bmFtaWNWYXJpYWJsZVZhbHVlKHJlY29yZHMsIkRCLUJFTkUtTlRSWUJFRiIpICA9PSJZIikNCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkRCX0JFTkVfTlRSWUJFRiA9IHRydWU7DQogICB9DQplbHNlew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5EQl9CRU5FX05UUllCRUYgPSBmYWxzZTt9DQoNCmlmKGdldDE4NTlEeW5hbWljVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJEQy1CRU5FLU5UUllCRUYiKSAgPT0iWSIpDQogICAgICB7T3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5EQ19CRU5FX05UUllCRUYgPSB0cnVlOw0KICAgfQ0KZWxzZXsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuRENfQkVORV9OVFJZQkVGID0gZmFsc2U7fQ0KLy9BTFRSDQppZihnZXQxODU5RHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiREItQkVORS1BTFRSIikgID09IlkiKQ0KICAgICAge091dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuREJfQkVORV9BTFRSID0gdHJ1ZTsNCiAgIH0NCiBlbHNlew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5EQl9CRU5FX0FMVFIgPSBmYWxzZTt9DQppZihnZXQxODU5RHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiREMtQkVORS1BTFRSIikgID09IlkiKQ0KICAgICAge091dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuRENfQkVORV9BTFRSID0gdHJ1ZTsNCiAgIH0NCmVsc2V7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkRDX0JFTkVfQUxUUiA9IGZhbHNlO30NCmlmKGdldDE4NTlEeW5hbWljVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJITS1CRU5FLUFMVFIiKSAgPT0iWSIpDQogICAgICB7T3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5ITV9CRU5FX0FMVFIgPSB0cnVlOw0KICAgfQ0KZWxzZXsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuSE1fQkVORV9BTFRSID0gZmFsc2U7fQ0KLy9OVFJZLVNHTlQNCmlmKGdldDE4NTlEeW5hbWljVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJOVFJZLVNHTlQtTUlTUyIpICA9PSJZIikNCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLk5UUllfU0dOVF9NSVNTID0gdHJ1ZTsNCiAgIH0NCmVsc2V7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLk5UUllfU0dOVF9NSVNTID0gZmFsc2U7fQ0KLy9CRU5FLVNHTlQNCmlmKGdldDE4NTlEeW5hbWljVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJNSVNTLUJFTkUtU0dOVCIpICA9PSJZIikNCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLk1JU1NfQkVORV9TR05UID0gdHJ1ZTsNCiAgIH0NCmVsc2V7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLk1JU1NfQkVORV9TR05UID0gZmFsc2U7fQ0KLy9QQ1MNCmlmKGdldDE4NTlEeW5hbWljVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJCRU5FLVBDUy1JTkNUIikgID09IlkiKQ0KICAgICAge091dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuQkVORV9QQ1NfSU5DVCA9IHRydWU7DQogICB9DQplbHNlew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5CRU5FX1BDU19JTkNUID0gZmFsc2U7fQ0KDQoNCg0KDQoNCiAgIA0KICAgLy9QQ1MuY21wc0FwcGxDZA0KICAgT3V0cHV0XzAuUENTLmNtcHNBcHBsQ2QgID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uY21wc0FwcGxDZDsNCiAgIE91dHB1dF8wLlBDUy50cmFuc2FjdGlvbkluZGV4ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10udHJhbnNhY3Rpb25JbmRleDsNCiAgIE91dHB1dF8wLlBDUy50aW1lc3RhbXAgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS50aW1lc3RhbXA7DQogICAgDQogICAgDQogICBPdXRwdXRfMC5QQ1MuUGFyYW1zLmpvYk5hbWU9IElucHV0XzAuUGFyYW1zLmpvYk5hbWU7DQogICAgU3RyaW5nIHZhcjE7IA0KICAgICBpZihJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDgzMUEuQ291bnQ+MCkNCiAgICAgICAgew0KICAgIHZhcjE9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUyMjhBLmZpcnN0KCkuRm9ybV9ScHRfTGRzY19UeCArIiAtICIgKyBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDgzMUEuZmlyc3QoKS5QbGFuX0xkc2NfVHg7DQogICAgICAgIH0NCiAgICAgZWxzZXsNCiAgICAgICAgdmFyMT1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTIyOEEuZmlyc3QoKS5Gb3JtX1JwdF9MZHNjX1R4Ow0KICAgICAgICANCiAgICAgICAgfQ0KICAgSW50IHZhcjIgPSB2YXIxLkxlbmd0aDsNCiAgIGlmKHZhcjIgPD0gNTUpDQogICB7DQogICBPdXRwdXRfMC5QQ1MuSGVhZGVyX0NvbmRpdGlvbiA9ICIxIjsNCiAgIH0NCiAgIGlmKHZhcjIgPiA1NSkNCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5IZWFkZXJfQ29uZGl0aW9uID0gIjIiOw0KICAgfQ0KDQogLyoqKioqKioqKioqKioqKioqKioqKiovDQogDQogICAgIC8vXzE3NDNBcnJheQ0KICAgICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl8xNzQzQS5Db3VudCA+IDApDQogICAgICB7DQogICAgICBmb3IgKEludCBJbmRleDE3NDNBOyBJbmRleDE3NDNBIDwgIElucHV0XzAuUENTW3JlY29yZHNdLl8xNzQzQS5Db3VudDsgSW5kZXgxNzQzQSsrKQ0KICAgICAgICAgew0KICAgICAgICAgT3V0cHV0XzAuUENTLl8xNzQzQS5Gb3JtX1JwdF9MZHNjX1R4ID0gIElucHV0XzAuUENTW3JlY29yZHNdLl8xNzQzQVtJbmRleDE3NDNBXS5Gb3JtX1JwdF9MZHNjX1R4Ow0KICAgICAgICAgT3V0cHV0XzAuUENTLl8xNzQzQS5Gb3JtX1JwdF9JZCAgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTc0M0FbSW5kZXgxNzQzQV0uRm9ybV9ScHRfSWQ7DQogICAgICAgICANCiAgICAgICAgIE91dHB1dF8wLlBDUy5fMTc0M0EuY29tbWl0KCk7DQogICAgICAgICB9DQogICAgICANCiAgICAgIH0NCg0KDQoNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgKioqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKiAgICAgICAgXzUzMTRBDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICANCiAgICANCiAgIA0KICAgICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzMTRBLkNvdW50PjApDQogICAgICB7DQogICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzE0QS5FbWFsX0FkZHJfVHg9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzMTRBWzBdLkVtYWxfQWRkcl9UeDsNCiAgICAgIA0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzE0QS5QcmVmZF9NYWlsX0FkZHJfSWQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTMxNEFbMF0uUHJlZmRfTWFpbF9BZGRyX0lkOw0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzE0QS5QcmVmZF9FbWFsX0FkZHJfSWQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTMxNEFbMF0uUHJlZmRfRW1hbF9BZGRyX0lkOw0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzE0QS5QcmVmZF9EbHZyX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzMTRBWzBdLlByZWZkX0RsdnJfQ2Q7DQogICAgICB9DQogICAgICANCg0KDQoNCiAgICAgICAgICAgIC8vXzQ0NjVBDQogICAgICANCiBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ0NjVBLkNvdW50PjApDQogICAgICB7DQogICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl80NDY1QS5QeXJsX0ZyZXFfQ2Q9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ0NjVBWzBdLlB5cmxfRnJlcV9DZDsNCiAgICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzQ0NjVBLkxvYW5fQW1ydF9ScG10X0F0PUlucHV0XzAuUENTW3JlY29yZHNdLl80NDY1QVswXS5Mb2FuX0FtcnRfUnBtdF9BdDsNCiAgICAgIH0NCg0KDQoNCi8qKioqKioqKioqKioqKipDTTAwMTFhZGRlZCoqKioqKiovDQovKioqKioqKioqKioqKioqKioqDQoqKioqKioqKioqKioqKioqKioqDQoqKioqKioqKioqKioqKioqKioqLw0KDQogIGlmICgoZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZVZhbHVlKHJlY29yZHMsICJETFZSLVBSRlItRUxFQyIpPT0gIlkiKSBhbmQgKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVWYWx1ZShyZWNvcmRzLCAiVkxELUVNQUwtSElFUiIpPT0gIk4iKSkNCiAgICAgICAgew0KICAgICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLkVtYWlsQWRkcmVzcyA9IHRydWU7DQogICAgICAgICB9DQogICAgDQogICBpZiAoKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVWYWx1ZShyZWNvcmRzLCAiRExWUi1QUkZSLUVMRUMiKT09ICJOIikgYW5kIChnZXQzNjgzQnJhbmRlZFNlbGVjdGlvblZhcmlhYmxlVmFsdWUocmVjb3JkcywgIlZMRC1FTUFMLUhJRVIiKT09ICJOIikpDQogICAgICAgIHsNCiAgICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5FbWFpbEFkZHJlc3MyID0gdHJ1ZTsNCiAgICAgICAgIH0NCiAgICAgIA0KICAgaWYgKChnZXQzNjgzQnJhbmRlZFNlbGVjdGlvblZhcmlhYmxlVmFsdWUocmVjb3JkcywgIkRMVlItUFJGUi1FTEVDIik9PSAiWSIpIGFuZCAoZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZVZhbHVlKHJlY29yZHMsICJWTEQtRU1BTC1ISUVSIik9PSAiWSIpKQ0KICAgICAgICB7DQogICAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY4M0EuRW1haWxBZGRyZXNzMyA9IHRydWU7DQogICAgICAgICB9DQogICAgICANCiAgICAgIA0KLyoqKioqKioqKioqKioqKioqKioqQWRkckJybmRfRnJtdF9DT1JQX0VNQUwgDQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQoNCmlmKElucHV0XzAuUENTW3JlY29yZHNdLl8zNjYzQVswXS5BZGRyX0JybmRfQ2QuZXF1YWwoIkNPUlAtRU1BTCIpIGFuZCBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY2M0FbMF0uQWRkcl9Gcm10X1R5cGVfQ2QuZXF1YWwoIkUiKSkNCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY2M0EuQWRkckJybmRfRnJtdF9DT1JQX0VNQUwgPSAiWSI7DQogICB9DQogICAgICANCi8qKioqKioqKioqKioqKioqKioqKioqKkFkZHJCcm5kX0ZybXRfUFJTTF9FTUFMICAgDQovKioqKioqKioqKioqKioqKioqKioqKioqKioqDQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KLyoqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQoNCmlmKElucHV0XzAuUENTW3JlY29yZHNdLl8zNjYzQVswXS5BZGRyX0JybmRfQ2QuZXF1YWwoIlBSU0wtRU1BTCIpIGFuZCBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY2M0FbMF0uQWRkcl9Gcm10X1R5cGVfQ2QuZXF1YWwoIkUiKSkNCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY2M0EuQWRkckJybmRfRnJtdF9QUlNMX0VNQUwgPSAiWSI7DQogICB9DQoNCg0KDQovKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfNTY3MUEgDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICAgICANCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgDQogICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl81NjcxQS5Db3VudCA+IDApIC8vbWFrZSBzdXJlIHRoZXJlIGlzIGF0IGxlYXN0IDEgcmVjb3JkIG9mIF81MjI4YQ0KICAgICAgew0KICAgICAgDQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzU2NzFBLlByc2xfRW1hbF9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81NjcxQVswXS5QcnNsX0VtYWxfVHg7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzU2NzFBLkNvcnBfRW1hbF9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81NjcxQVswXS5Db3JwX0VtYWxfVHg7DQogICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81NjcxQS5NYWlsX09ybnRfQ29vcl9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81NjcxQVswXS5NYWlsX09ybnRfQ29vcl9DZDsNCiAgICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81NjcxQS5NYWlsX0xvZ29fRHNwbF9DZD1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTY3MUFbMF0uTWFpbF9Mb2dvX0RzcGxfQ2Q7DQogICAgICANCiAgICAgIH0NCiAgIA0KICAgDQogICANCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF8zNjYyQSANCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgICAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICANCiAgICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM2NjJBLkNvdW50ID4gMCkgLy9tYWtlIHN1cmUgdGhlcmUgaXMgYXQgbGVhc3QgMSByZWNvcmQgb2YgXzUyMjhhDQogICAgICB7DQogICAgICANCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY2MkEuRW1wbF9TdGF0X0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM2NjJBWzBdLkVtcGxfU3RhdF9DZDsNCiAgICAgICB9DQogICAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfNTk2OUEgDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICAgICANCiAgICoqKioqKioqKioqKioqKioqKioqLw0KICAgIA0KICAgICAgICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl81OTY5QS5Db3VudCA+MCkNCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTk2OUEuRm9ybV9ScHRfTGRzY19UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81OTY5QVswXS5Gb3JtX1JwdF9MZHNjX1R4Ow0KICAgDQogICAgICAgfQ0KICAgIA0KICAgIA0KICAgDQogICAvKioqKioqKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqICAgICAgIF83MTI1QQ0KICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCiAgIA0KICAgIGlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzEyNUEuQ291bnQgPiAwKSAvL21ha2Ugc3VyZSB0aGVyZSBpcyBhdCBsZWFzdCAxIHJlY29yZCBvZiBfNTIyOGENCiAgICAgIHsNCiAgICAgIA0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl83MTI1QS5FbWFsX1Nkcl9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl83MTI1QVswXS5FbWFsX1Nkcl9UeDsNCiAgICAgICAgICANCiAgICAgIA0KICAgICAgfQ0KICAgDQogICANCg0KDQovKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfMzY2M0ENCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgICAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM2NjNBLkNvdW50ID4gMCkgLy9tYWtlIHN1cmUgdGhlcmUgaXMgYXQgbGVhc3QgMSByZWNvcmQgb2YgXzUyMjhhDQogICAgICB7DQogICAgICANCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY2M0EuRnJtdF9BZGRyX0xpbmVfVHggPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY2M0FbMF0uRnJtdF9BZGRyX0xpbmVfVHg7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2NjNBLkZybXRfQWRkcl9MaW5lMV9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8zNjYzQVswXS5Gcm10X0FkZHJfTGluZTFfVHg7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2NjNBLkZybXRfQWRkcl9MaW5lMl9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8zNjYzQVswXS5Gcm10X0FkZHJfTGluZTJfVHg7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2NjNBLkZybXRfQWRkcl9MaW5lM19UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8zNjYzQVswXS5Gcm10X0FkZHJfTGluZTNfVHggOw0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjYzQS5Gcm10X0FkZHJfTGluZTRfVHggPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY2M0FbMF0uRnJtdF9BZGRyX0xpbmU0X1R4Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjYzQS5FbWFsX0FkZHJfVHggPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY2M0FbMF0uRW1hbF9BZGRyX1R4Ow0KICAgICAgDQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2NjNBLkFkZHJfQnJuZF9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8zNjYzQVswXS5BZGRyX0JybmRfQ2Q7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2NjNBLkFkZHJfRnJtdF9UeXBlX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM2NjNBWzBdLkFkZHJfRnJtdF9UeXBlX0NkOw0KICAgICAgDQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2NjNBLlJ0cm5fTWFpbF9Ec3BsX0NkICA9IElucHV0XzAuUENTW3JlY29yZHNdLl8zNjYzQVswXS5SdHJuX01haWxfRHNwbF9DZDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY2M0EuUnRybl9NYWlsX0RzcGxfVHggPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY2M0FbMF0uUnRybl9NYWlsX0RzcGxfVHg7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2NjNBLkFkZHJfQmFyX0NkX1ZsID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM2NjNBWzBdLkFkZHJfQmFyX0NkX1ZsOw0KICAgICANCiAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjYzQS5BZGRyX0lkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM2NjNBWzBdLkFkZHJfSWQ7DQogICAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY2M0EuQWRkcl9MZHNjX1R4ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM2NjNBWzBdLkFkZHJfTGRzY19UeDsNCiAgICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjYzQS5Ib21lQWRkcmVzcyA9IGdldEhvbWVBZGRyZXNzKHJlY29yZHMsIkhvbWVBZGRyZXNzIik7DQogICAgICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2NjNBLkVtYWlsUHJvdmlkZXIgPSBnZXRlbWFpbFByb3ZpZGVyKHJlY29yZHMsIkVtYWlsUHJvdmlkZXIiKTsNCiAgICAgICAgIA0KICAgICAgDQogICAgICANCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY2MUEuRnJtdF9ObSA9IElucHV0XzAuUENTW3JlY29yZHNdLl8zNjYxQVswXS5Gcm10X05tOw0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjYzQS5DaXR5X05tID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM2NjNBWzBdLkNpdHlfTm07DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2NjNBLlN0X0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM2NjNBWzBdLlN0X0NkOw0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjYzQS5DdHJ5X0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM2NjNBWzBdLkN0cnlfQ2Q7DQogICAgICANCiAgICAgIH0NCiAgIA0KDQogIC8qKioqKioqKioqKioqKioqKipDTTAwMjZhZGRlZCoqKioqKioqDQogICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQogIA0KICBpZiAoZ2V0MTkxOUFfQnJhbmRlZERhdGVSZXRyaWV2YWwocmVjb3JkcywgIkFDVC1FRkRUIikhPSAiIikNCiAgICAgICAgew0KICAgICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE5MTlBLk5FWFRfQkRBWSA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MjI4QVswXS5DdXJyX0R0Ow0KICAgICAgICB9DQogIC8qKioqKioqKioqKioqKioqKioqKg0KICAqKioqKioqKioqKioqKioqKioqKioNCiAgKioqKioqKioqKioqKioqKioqKioqDQogICoqKioqKioqKioqKioqKioqKioqKiAgICBfMjM3NkENCiAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgDQogIGZvciAoSW50IEluZGV4MjM3NjsgSW5kZXgyMzc2IDwgIElucHV0XzAuUENTW3JlY29yZHNdLl8yMzc2QS5Db3VudDsgSW5kZXgyMzc2KyspDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuXzIzNzZBID0gIElucHV0XzAuUENTW3JlY29yZHNdLl8yMzc2QVtJbmRleDIzNzZdOw0KICAgICAgT3V0cHV0XzAuUENTLl8yMzc2QS5jb21taXQoKTsNCiAgICAgIH0NCg0KDQogIA0KICANCiAgDQogIA0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgSm9iIA0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgIGlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5Kb2IuQ291bnQgPiAwKSAvL21ha2Ugc3VyZSB0aGVyZSBpcyBhdCBsZWFzdCAxIHJlY29yZCBvZiBfMjA1NGENCiAgICAgIHsgICAgICAgICAgICAgDQogICAgICANCiAgICAgIA0KICAgICAgT3V0cHV0XzAuUENTLkpvYi5CYXRjaEpvYk5hbWUgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5Kb2JbMF0uQmF0Y2hKb2JOYW1lIDsNCiAgICAgIE91dHB1dF8wLlBDUy5Kb2IuQmF0Y2hKb2JJZCA9IElucHV0XzAuUENTW3JlY29yZHNdLkpvYlswXS5CYXRjaEpvYklkIDsNCiAgICAgIE91dHB1dF8wLlBDUy5Kb2IuQmF0Y2hKb2JUcyA9IElucHV0XzAuUENTW3JlY29yZHNdLkpvYlswXS5CYXRjaEpvYlRzIDsNCiAgICAgIE91dHB1dF8wLlBDUy5Kb2IuQ2xpZW50SWQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5Kb2JbMF0uQ2xpZW50SWQ7DQogICAgICBPdXRwdXRfMC5QQ1MuSm9iLkVudiA9IElucHV0XzAuUENTW3JlY29yZHNdLkpvYlswXS5FbnYgOw0KICAgICAgT3V0cHV0XzAuUENTLkpvYi5NYXhQZ0N0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uSm9iWzBdLk1heFBnQ3QgOw0KICAgICAgT3V0cHV0XzAuUENTLkpvYi5TdGF0Q2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5Kb2JbMF0uU3RhdENkIDsNCiAgICAgIE91dHB1dF8wLlBDUy5Kb2IuVGVzdFByb2RDZCA9IElucHV0XzAuUENTW3JlY29yZHNdLkpvYlswXS5UZXN0UHJvZENkIDsNCiAgICAgIH0NCiAgIA0KICAgDQogICAvL18yMTYzQQ0KICAgDQogICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIxNjNBLkNvdW50PjApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIxNjNBLkVtYWxfRnJtdF9DZD1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjE2M0FbMF0uRW1hbF9Gcm10X0NkOw0KICAgICAgLy8yMDI1MDgyNyAtIFVwZGF0ZWQgZm9yIFJlcG9ydHMNCiAgICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIxNjNBLlNwbV9Eb2NfRXh0cl9UeD1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjE2M0FbMF0uU3BtX0RvY19FeHRyX1R4Ow0KICAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjE2M0EuWG1sX1N0cmdfVHg9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIxNjNBWzBdLlhtbF9TdHJnX1R4Ow0KICAgICAgfQ0KICAgDQogICAvL180NDU4QQ0KICAgDQogICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ0NThBLkNvdW50PjApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzQ0NThBLkF1dG9fUmJhbF9GcmVxX1R4PUlucHV0XzAuUENTW3JlY29yZHNdLl80NDU4QVswXS5BdXRvX1JiYWxfRnJlcV9UeDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNDQ1OEEuRWZiZWdkdD1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fNDQ1OEFbMF0uRWZiZWdkdDsNCiAgICAgIH0NCiAgIA0KICAgDQogICANCiAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqICAgXzE3NDNBcnJheQ0KICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCiAgIA0KICAgDQogICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzE3NDNBLkNvdW50ID4gMCkNCiAgICAgIHsNCiAgICAgIGZvciAoSW50IEluZGV4MTc0M0E7IEluZGV4MTc0M0EgPCAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzE3NDNBLkNvdW50OyBJbmRleDE3NDNBKyspDQogICAgICAgICB7DQogICAgICAgICBPdXRwdXRfMC5QQ1MuXzE3NDNBLkZvcm1fUnB0X0xkc2NfVHggPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzE3NDNBW0luZGV4MTc0M0FdLkZvcm1fUnB0X0xkc2NfVHg7DQogICAgICAgICBPdXRwdXRfMC5QQ1MuXzE3NDNBLkZvcm1fUnB0X0lkICA9IElucHV0XzAuUENTW3JlY29yZHNdLl8xNzQzQVtJbmRleDE3NDNBXS5Gb3JtX1JwdF9JZDsNCiAgICAgICAgIA0KICAgICAgICAgT3V0cHV0XzAuUENTLl8xNzQzQS5jb21taXQoKTsNCiAgICAgICAgIH0NCiAgICAgIA0KICAgICAgfSAgIA0KICAgDQogICANCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF8xODY0QSBBcnJheQ0KICAgICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAgICAvKioqKioqKioqKioqKioqKioqKioNCiAgICAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgICAgIA0KICAgICAgDQogICAgICANCiAgICAgIGZvciAoSW50IEluZGV4MTg0NkEgOyBJbmRleDE4NDZBICA8ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTg0NkEuQ291bnQ7IEluZGV4MTg0NkEgKyspDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuXzE4NDZBICA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTg0NkFbSW5kZXgxODQ2QV07DQogICAgICBPdXRwdXRfMC5QQ1MuXzE4NDZBLmNvbW1pdCgpOw0KICAgICAgfQ0KICANCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF8yMDU0QSBBcnJheQ0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgIA0KICAgDQogICANCiAgIGZvciAoSW50IEluZGV4MjA1NEEgOyBJbmRleDIwNTRBICA8ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEEuQ291bnQ7IEluZGV4MjA1NEEgKyspDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuXzIwNTRBICA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbSW5kZXgyMDU0QV07DQogICAgICBPdXRwdXRfMC5QQ1MuXzIwNTRBLmNvbW1pdCgpOw0KICAgICAgIH0NCiAgDQogICANCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF8xODU5QSBBcnJheQ0KICAgICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAgICAvKioqKioqKioqKioqKioqKioqKioNCiAgICAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgICAgIGlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTg1OUEuQ291bnQgPiAwKSAvL21ha2Ugc3VyZSB0aGVyZSBpcyBhdCBsZWFzdCAxIHJlY29yZCBvZiBfMTg1OWENCiAgICAgIHsgICANCiAgICAgIA0KICAgICAgZm9yIChJbnQgSW5kZXgxODU5QSA7IEluZGV4MTg1OUEgIDwgIElucHV0XzAuUENTW3JlY29yZHNdLl8xODU5QS5Db3VudDsgSW5kZXgxODU5QSsrKQ0KICAgICAgICAgew0KICAgICAgICAgT3V0cHV0XzAuUENTLl8xODU5QSAgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzE4NTlBW0luZGV4MTg1OUFdOw0KICAgICAgICAgT3V0cHV0XzAuUENTLl8xODU5QS5jb21taXQoKTsNCiAgICAgICAgIH0NCiAgICAgIA0KICAgICAgfQ0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzE4NTlEIEFycmF5DQogICAgICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICAgICANCiAgICAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl8xODU5RC5Db3VudCA+IDApIC8vbWFrZSBzdXJlIHRoZXJlIGlzIGF0IGxlYXN0IDEgcmVjb3JkIG9mIF8xODU5RA0KICAgICAgeyAgIA0KICAgICAgDQogICAgICBmb3IgKEludCBJbmRleDE4NTlEIDsgSW5kZXgxODU5RCAgPCAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzE4NTlELkNvdW50OyBJbmRleDE4NTlEKyspDQogICAgICAgICB7DQogICAgICAgICBPdXRwdXRfMC5QQ1MuXzE4NTlEICA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTg1OURbSW5kZXgxODU5RF07DQogICAgICAgICBPdXRwdXRfMC5QQ1MuXzE4NTlELmNvbW1pdCgpOw0KICAgICAgICAgfQ0KICAgICAgDQogICAgICB9DQogICANCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF8xOTE5QSBBcnJheQ0KICAgICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAgICAvKioqKioqKioqKioqKioqKioqKioNCiAgICAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgICAgIA0KICAgICAgZm9yIChJbnQgSW5kZXgxOTE5QSA7IEluZGV4MTkxOUEgIDwgIElucHV0XzAuUENTW3JlY29yZHNdLl8xOTE5QS5Db3VudDsgSW5kZXgxOTE5QSArKykNCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5fMTkxOUEgID0gIElucHV0XzAuUENTW3JlY29yZHNdLl8xOTE5QVtJbmRleDE5MTlBXTsNCiAgICAgIE91dHB1dF8wLlBDUy5fMTkxOUEuY29tbWl0KCk7DQogICAgICB9DQogICANCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF8zMzM3QSBBcnJheQ0KICAgICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAgICAvKioqKioqKioqKioqKioqKioqKioNCiAgICAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgICAgIA0KICAgICAgZm9yIChJbnQgSW5kZXgzMzM3QSA7IEluZGV4MzMzN0EgIDwgIElucHV0XzAuUENTW3JlY29yZHNdLl8zMzM3QS5Db3VudDsgSW5kZXgzMzM3QSArKykNCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5fMzMzN0E9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzMzN0FbSW5kZXgzMzM3QV07DQogICAgICBPdXRwdXRfMC5QQ1MuXzMzMzdBLmNvbW1pdCgpOw0KICAgICAgfQ0KICAgDQogICANCiAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXyBBcnJheQ0KICAgICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAgICAvKioqKioqKioqKioqKioqKioqKioNCiAgICAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgICAgIA0KICAgICAgZm9yIChJbnQgSW5kZXgyNzI5QSA7IEluZGV4MjcyOUEgIDwgIElucHV0XzAuUENTW3JlY29yZHNdLl8yNzI5QS5Db3VudDsgSW5kZXgyNzI5QSArKykNCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5fMjcyOUEgID0gIElucHV0XzAuUENTW3JlY29yZHNdLl8yNzI5QVtJbmRleDI3MjlBXTsNCiAgICAgIE91dHB1dF8wLlBDUy5fMjcyOUEuY29tbWl0KCk7DQogICAgICB9DQogICANCiAgIC8qKioqKiBDb250cmlidXRpb24gVGFibGUgKioqKi8NCiAgICAgIFV0aWwuU3RyaW5nTGlzdCB2YWwxOw0KICAgDQogICBmb3IgKEludCBJbmRleDMzMzdBIDsgSW5kZXgzMzM3QSAgPCAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzMzMzdBLkNvdW50OyBJbmRleDMzMzdBICsrKQ0KICAgICAgew0KICAgICAgaWYoIElucHV0XzAuUENTW3JlY29yZHNdLl8zMzM3QVtJbmRleDMzMzdBXS5CYWxfVmxfQXQ+MCkNCiAgICAgICAgIHsNCiAgICAgICAgIA0KICAgICAgICAgdmFyIG9iaj0gdmFsMS53aGVyZSh2YWx1ZT09IElucHV0XzAuUENTW3JlY29yZHNdLl8zMzM3QVtJbmRleDMzMzdBXS5CbGdwX0xkc2NfVHgpOw0KICAgICAgICAgaWYob2JqLlNpemU9PTApDQogICAgICAgICAgICB7DQogICAgICAgICAgICB2YWwxLmFkZChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzMzN0FbSW5kZXgzMzM3QV0uQmxncF9MZHNjX1R4KTsgDQogICAgICAgICAgICB9DQogICAgICAgICANCiAgICAgICAgIH0NCiAgICAgIA0KICAgICAgfQ0KICAgDQogICANCiAgIGZvcihJbnQgaT0wO2k8dmFsMS5TaXplO2krKykNCiAgICAgIHsNCiAgICAgIA0KICAgICAgZm9yIChJbnQgSW5kZXgzMzM3QSA7IEluZGV4MzMzN0EgIDwgIElucHV0XzAuUENTW3JlY29yZHNdLl8zMzM3QS5Db3VudDsgSW5kZXgzMzM3QSArKykNCiAgICAgICAgIHsNCiAgICAgICAgIA0KICAgICAgICAgaWYoIElucHV0XzAuUENTW3JlY29yZHNdLl8zMzM3QVtJbmRleDMzMzdBXS5CYWxfVmxfQXQ+MCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgIGlmKHZhbDEuZ2V0KGkpID09IElucHV0XzAuUENTW3JlY29yZHNdLl8zMzM3QVtJbmRleDMzMzdBXS5CbGdwX0xkc2NfVHgpDQogICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuQ29udHJpYnV0aW9uLkNvbDEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzMzN0FbSW5kZXgzMzM3QV0uQmxncF9MZHNjX1R4Ow0KICAgICAgICAgICAgICAgaWYoIElucHV0XzAuUENTW3JlY29yZHNdLl8zMzM3QVtJbmRleDMzMzdBXS5CZWdfRHRfUnRydl9Ccm5kY2QuZXF1YWxDYXNlSW5zZW5zaXRpdmUoIkZSU1QtT0YtQ1FUUiIpKQ0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkNvbnRyaWJ1dGlvbi5Db2wyID0gIiQiK0lucHV0XzAuUENTW3JlY29yZHNdLl8zMzM3QVtJbmRleDMzMzdBXS5CYWxfVmxfQXQudG9TdHJpbmcoMiwyLCIsIiwiLiIpOw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgaWYoIElucHV0XzAuUENTW3JlY29yZHNdLl8zMzM3QVtJbmRleDMzMzdBXS5CZWdfRHRfUnRydl9Ccm5kY2QuZXF1YWxDYXNlSW5zZW5zaXRpdmUoIkZSU1QtT0YtQ1lZIikpDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuQ29udHJpYnV0aW9uLkNvbDMgPSAiJCIrSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzMzMzdBW0luZGV4MzMzN0FdLkJhbF9WbF9BdC50b1N0cmluZygyLDIsIiwiLCIuIik7DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICANCiAgICAgICAgIA0KICAgICAgICAgfQ0KICAgICAgDQogICAgICBPdXRwdXRfMC5QQ1MuQ29udHJpYnV0aW9uLmNvbW1pdCgpOw0KICAgICAgfQ0KICAgDQogICANCiAgIC8qKioqKiBBc3NlcnQgQWxsb2NhdGlvbiBQaWVDaGFydCAqKioqLw0KICAgDQogICBmb3IgKEludCBJbmRleDI3MjlBIDsgSW5kZXgyNzI5QSAgPCAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzI3MjlBLkNvdW50OyBJbmRleDI3MjlBICsrKQ0KICAgICAgew0KICAgICAgaWYoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzI3MjlBW0luZGV4MjcyOUFdLkR0bF9OZXdfQWxvY19QdCA+MCBvciAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzI3MjlBW0luZGV4MjcyOUFdLkR0bF9OZXdfQWxvY19QdD09MCBhbmQgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzI3MjlBW0luZGV4MjcyOUFdLkNiX01rdF9WbF9BdCE9MCkpDQogICAgICAgICB7DQogICAgICAgICBPdXRwdXRfMC5QQ1MuQXNzZXRBbGxvY2F0aW9uQ2hhcnQuQ2hhcnRWYWx1ZSAgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzI3MjlBW0luZGV4MjcyOUFdLkR0bF9OZXdfQWxvY19QdDsNCiAgICAgICAgIA0KICAgICAgICAgaWYoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzI3MjlBW0luZGV4MjcyOUFdLkR0bF9OZXdfQWxvY19QdCA+IDApDQogICAgICAgICAgICB7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuQXNzZXRBbGxvY2F0aW9uQ2hhcnQuRHRsX05ld19BbHRjX1B0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzI3MjlBW0luZGV4MjcyOUFdLkR0bF9OZXdfQWxvY19QdC50b1N0cmluZygpICsiJSI7DQogICAgICAgICAgICB9DQogICAgICAgICBpZihJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjcyOUFbSW5kZXgyNzI5QV0uRHRsX05ld19BbG9jX1B0ID09IDAgYW5kIElucHV0XzAuUENTW3JlY29yZHNdLl8yNzI5QVtJbmRleDI3MjlBXS5DYl9Na3RfVmxfQXQgPiAwKSANCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5Bc3NldEFsbG9jYXRpb25DaGFydC5EdGxfTmV3X0FsdGNfUHQgPSI8MSUiOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgT3V0cHV0XzAuUENTLkFzc2V0QWxsb2NhdGlvbkNoYXJ0LkFzdF9DbHNfTGRzY19UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yNzI5QVtJbmRleDI3MjlBXS5Bc3RfQ2xzX0xkc2NfVHg7DQogICAgICAgICBPdXRwdXRfMC5QQ1MuQXNzZXRBbGxvY2F0aW9uQ2hhcnQuQ2JfTWt0X1ZsX0F0ID0gIElucHV0XzAuUENTW3JlY29yZHNdLl8yNzI5QVtJbmRleDI3MjlBXS5DYl9Na3RfVmxfQXQ7DQogICAgICAgICBPdXRwdXRfMC5QQ1MuQXNzZXRBbGxvY2F0aW9uQ2hhcnQuY29tbWl0KCk7DQogICAgICAgICB9ICAgICAgICAgDQogICAgICBPdXRwdXRfMC5QQ1MuXzI3MjlBLmNvbW1pdCgpOw0KICAgICAgfQ0KICAgDQogICANCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF8wOTQ3QSBBcnJheQ0KICAgICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAgICAvKioqKioqKioqKioqKioqKioqKioNCiAgICAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgICAgIA0KICAgICAgZm9yIChJbnQgSW5kZXgwOTQ3QSA7IEluZGV4MDk0N0EgIDwgIElucHV0XzAuUENTW3JlY29yZHNdLl8wOTQ3QS5Db3VudDsgSW5kZXgwOTQ3QSArKykNCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5fMDk0N0EgID0gIElucHV0XzAuUENTW3JlY29yZHNdLl8wOTQ3QVtJbmRleDA5NDdBXTsNCiAgICAgIE91dHB1dF8wLlBDUy5fMDk0N0EuY29tbWl0KCk7DQogICAgICB9DQogICANCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF8xOTE5QSBBcnJheQ0KICAgICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAgICAvKioqKioqKioqKioqKioqKioqKioNCiAgICAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgICAgIA0KICAgICAgZm9yIChJbnQgSW5kZXgxOTE5QSA7IEluZGV4MTkxOUEgIDwgIElucHV0XzAuUENTW3JlY29yZHNdLl8xOTE5QS5Db3VudDsgSW5kZXgxOTE5QSArKykNCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5fMTkxOUEgID0gIElucHV0XzAuUENTW3JlY29yZHNdLl8xOTE5QVtJbmRleDE5MTlBXTsNCiAgICAgIE91dHB1dF8wLlBDUy5fMTkxOUEuY29tbWl0KCk7DQogICAgICB9DQogICANCiAgIA0KICAgICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzEyMDJBIEFycmF5DQogICAgICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICAgICANCiAgICAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgICAgDQogICAgICBmb3IgKEludCBJbmRleDEyMDJBIDsgSW5kZXgxMjAyQSAgPCAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzEyMDJBLkNvdW50OyBJbmRleDEyMDJBICsrKQ0KICAgICAgew0KICAgICAgICAgZm9yIChJbnQgSW5kZXg1NDMwQTsgSW5kZXg1NDMwQSA8ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTIwMkFbSW5kZXgxMjAyQV0uXzU0MzBBLkNvdW50OyBJbmRleDU0MzBBKyspDQogICAgICAgICB7DQogICAgICAgICAgT3V0cHV0XzAuUENTLl8xMjAyQS5fNTQzMEEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTIwMkFbSW5kZXgxMjAyQV0uXzU0MzBBW0luZGV4NTQzMEFdOw0KICAgICAgICAgIE91dHB1dF8wLlBDUy5fMTIwMkEuXzU0MzBBIC5jb21taXQoKTsNCiAgICAgICAgIH0NCiAgICAgIA0KICAgICAgICAgZm9yIChJbnQgSW5kZXhTY2x1dHNfQXI7IEluZGV4U2NsdXRzX0FyIDwgIElucHV0XzAuUENTW3JlY29yZHNdLl8xMjAyQVtJbmRleDEyMDJBXS5TY2x1dHNfQXIuQ291bnQ7IEluZGV4U2NsdXRzX0FyKyspDQogICAgICAgICB7DQogICAgICAgICAgT3V0cHV0XzAuUENTLl8xMjAyQS5TY2x1dHNfQXIgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTIwMkFbSW5kZXgxMjAyQV0uU2NsdXRzX0FyW0luZGV4U2NsdXRzX0FyXTsNCiAgICAgICAgICBPdXRwdXRfMC5QQ1MuXzEyMDJBLlNjbHV0c19BciAuY29tbWl0KCk7DQogICAgICAgICB9DQogICAgICANCiAgICAgIE91dHB1dF8wLlBDUy5fMTIwMkEgID0gIElucHV0XzAuUENTW3JlY29yZHNdLl8xMjAyQVtJbmRleDEyMDJBXTsNCiAgICAgIE91dHB1dF8wLlBDUy5fMTIwMkEuY29tbWl0KCk7DQogICAgICANCiAgICAgIH0NCiAgIA0KICAgICANCiAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzA0NjVBIA0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgIA0KICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl8wNDY1QS5Db3VudD4wKSANCiAgICAgIHsNCiAgICAgIA0KICAgICAgZm9yIChJbnQgSW5kZXgwNDY1OyBJbmRleDA0NjUgPCAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA0NjVBLkNvdW50OyBJbmRleDA0NjUrKykNCiAgICAgICAgIHsNCiAgICAgICAgIE91dHB1dF8wLlBDUy5fMDQ2NUEgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA0NjVBW0luZGV4MDQ2NV07DQogICAgICAgICBPdXRwdXRfMC5QQ1MuXzA0NjVBLmNvbW1pdCgpOw0KICAgICAgICAgfQ0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wNDY1QS5JRlhfSU5CQU1UX1NCID0gZ2V0MDQ2NUFfYmFsdmxhdDEocmVjb3JkcywgIklGWF9JTkJBTVRfU0IiKTsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMDQ2NUEuSUZYX0lOQkhYVF9TQiA9IGdldDA0NjVBX2JhbHZsYXQxKHJlY29yZHMsICJJRlhfSU5CSFhUX1NCIik7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzA0NjVBLklGWF9HV0RBTVRfU0IgPSBnZXQwNDY1QV9iYWx2bGF0MShyZWNvcmRzLCAiSUZYX0dXREFNVF9TQiIpOw0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wNDY1QS5JRlhfR1dETlhUX1NCICA9IGdldDA0NjVBX2JhbHZsYXQxKHJlY29yZHMsICJJRlhfR1dETlhUX1NCIik7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzA0NjVBLklGWF9UT1RQTVRfU0IgPSBnZXQwNDY1QV9iYWx2bGF0MShyZWNvcmRzLCAiSUZYX1RPVFBNVF9TQiIpOw0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wNDY1QS5JRlhfR1dEUk1OX1NCID0gZ2V0MDQ2NUFfYmFsdmxhdDEocmVjb3JkcywgIklGWF9HV0RSTU5fU0IiKTsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMDQ2NUEuRWZkdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8wNDY1QVswXS5FZmR0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wNDY1QS5CYWxfVmxfQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDQ2NUFbMF0uQmFsX1ZsX0F0Ow0KICAgICAgDQogICAgICB9DQogICANCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF8zNjc1QSBBcnJheQ0KICAgICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAgICAvKioqKioqKioqKioqKioqKioqKioNCiAgICAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgICAgIA0KICAgICAgZm9yIChJbnQgSW5kZXgzNjc1QSAgOyBJbmRleDM2NzVBICA8ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY3NUEuQ291bnQ7IEluZGV4MzY3NUEgKyspDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuXzM2NzVBICA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY3NUFbSW5kZXgzNjc1QV07DQogICAgICBPdXRwdXRfMC5QQ1MuXzM2NzVBLmNvbW1pdCgpOw0KICAgICAgfQ0KICAgDQogICANCiAgICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfMTA4M0EgDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICANCiAgIA0KICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl8xMDgzQS5Db3VudCA+IDApIC8vbWFrZSBzdXJlIHRoZXJlIGlzIGF0IGxlYXN0IDEgcmVjb3JkIG9mIF8xMDgzQQ0KICAgICAgew0KICAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTA4M0EuU2NsX1V0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzEwODNBWzBdLlNjbF9VdDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTA4M0EuUGFydF9EbHZyX1Nocl9ReSA9IElucHV0XzAuUENTW3JlY29yZHNdLl8xMDgzQVswXS5QYXJ0X0RsdnJfU2hyX1F5Ow0KICAgDQogICB9DQogICANCiAgIA0KICAgDQogICANCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzA4MzFBIA0KICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgDQogICANCiAgIGlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDgzMUEuQ291bnQgPiAwKSAvL21ha2Ugc3VyZSB0aGVyZSBpcyBhdCBsZWFzdCAxIHJlY29yZCBvZiBfMDgzMWENCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMDgzMUEuUGxhbl9TZHNjX1R4ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA4MzFBWzBdLlBsYW5fU2RzY19UeDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMDgzMUEuUGxhbl9MZHNjX1R4ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA4MzFBWzBdLlBsYW5fTGRzY19UeDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMDgzMUEuUGxhbl9Ccm5kX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA4MzFBWzBdLlBsYW5fQnJuZF9DZDsNCiAgICAgIH0NCiAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzcyNzZBIA0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgIA0KICAgDQogICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzcyNzZBLkNvdW50ID4gMCkgLy9tYWtlIHN1cmUgdGhlcmUgaXMgYXQgbGVhc3QgMSByZWNvcmQgb2YgXzcyNzZBDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzcyNzZBLkVmYmVnZHQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzI3NkFbMF0uRWZiZWdkdDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNzI3NkEuUnRfVmxfUHQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzI3NkFbMF0uUnRfVmxfUHQ7DQogICAgICANCiAgICAgIA0KICAgICAgfSANCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF80NjU4QQ0KICAgICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgICAgDQogICAgICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ2NThBLkNvdW50ID4gMCkgLy9tYWtlIHN1cmUgdGhlcmUgaXMgYXQgbGVhc3QgMSByZWNvcmQgb2YgXzQ2NThBDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzQ2NThBLkFnZV9ReSA9IElucHV0XzAuUENTW3JlY29yZHNdLl80NjU4QVswXS5BZ2VfUXk7DQogICAgICANCiAgICAgIA0KICAgICAgfSANCiAgIA0KICAgDQogICAvKioqKioqKioqKioqKioqKioqKiogICBfMDk0N0EgICAgICAgICAgDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgIA0KICAgDQogICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA5NDdBLkNvdW50ID4gMCkgLy9tYWtlIHN1cmUgdGhlcmUgaXMgYXQgbGVhc3QgMSByZWNvcmQgb2YgXzA5NDdhDQogICAgICB7DQogICAgICANCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMDk0N0EuQmFzZV9Qcl9XdGhsX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA5NDdBWzBdLkJhc2VfUHJfV3RobF9DZDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMDk0N0EuVHhibF9SbW5fUmx2cl9BdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8wOTQ3QVswXS5UeGJsX1Jtbl9SbHZyX0F0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5HcnNzX0RzdHJfQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDk0N0FbMF0uR3Jzc19Ec3RyX0F0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5UYXhfU3RfQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDk0N0FbMF0uVGF4X1N0X0NkOw0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5Ub3RfTnRjX0F2bGJfQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDk0N0FbMF0uVG90X050Y19BdmxiX0F0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5Sb3RoX1RvdF9WbCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8wOTQ3QVswXS5Sb3RoX1RvdF9WbDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMDk0N0EuRm5sX05ldF9GZWRfVHhibGF0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA5NDdBWzBdLkZubF9OZXRfRmVkX1R4YmxhdDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMDk0N0EuTm9uX1JvdGhfTnRjX1ZsID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA5NDdBWzBdLk5vbl9Sb3RoX050Y19WbDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMDk0N0EuUG10X1RheF9Zcl9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8wOTQ3QVswXS5QbXRfVGF4X1lyX1R4Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5OdGF4X1Jtbl9SbHZyX0F0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA5NDdBWzBdLk50YXhfUm1uX1JsdnJfQXQgOw0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5Sb3RoX1Jtbl9SbHZyX0F0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA5NDdBWzBdLlJvdGhfUm1uX1JsdnJfQXQ7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzA5NDdBLkZubF9TdF9UYXhfSW5jbV9BdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8wOTQ3QVswXS5GbmxfU3RfVGF4X0luY21fQXQ7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzA5NDdBLlRheF9XdGhsX0R0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA5NDdBWzBdLlRheF9XdGhsX0R0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5Sb3RoX050Y19WbCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8wOTQ3QVswXS5Sb3RoX050Y19WbDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMDk0N0EuUG10X1JzbHRfRWZkdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8wOTQ3QVswXS5QbXRfUnNsdF9FZmR0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5SZm5kX0F0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA5NDdBWzBdLlJmbmRfQXQ7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzA5NDdBLkhkc3BfUnNuX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA5NDdBWzBdLkhkc3BfUnNuX0NkOw0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5IZHNwX1Jzbl8yX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA5NDdBWzBdLkhkc3BfUnNuXzJfQ2Q7IA0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5IZHNwX1Jzbl8zX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA5NDdBWzBdLkhkc3BfUnNuXzNfQ2Q7IA0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5McmdfTmV0Y2FzaF9QbXRfQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDk0N0FbMF0uTHJnX05ldGNhc2hfUG10X0F0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5Mb2FuX1N0dGxfQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDk0N0FbMF0uIExvYW5fU3R0bF9BdDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMDk0N0EuVG90X0RjcmxfQ2FzaF9BdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8wOTQ3QVswXS5Ub3RfRGNybF9DYXNoX0F0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5BY3RsX0ZlZF9XdGhsX0F0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA5NDdBWzBdLkFjdGxfRmVkX1d0aGxfQXQ7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzA5NDdBLkFjdGxfU3RfV3RobF9BdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8wOTQ3QVswXS4gQWN0bF9TdF9XdGhsX0F0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5NaXNjX0Noa19EZWRfQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDk0N0FbMF0uIE1pc2NfQ2hrX0RlZF9BdDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMDk0N0EuRm5sX0NwdGxfR2Fpbl9BdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8wOTQ3QVswXS5GbmxfQ3B0bF9HYWluX0F0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5Ec3RyX1JvdGhfQ252cl9BdCAgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDk0N0FbMF0uRHN0cl9Sb3RoX0NudnJfQXQ7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzA5NDdBLlJvdGhfQmVnX0R0ICA9IElucHV0XzAuUENTW3JlY29yZHNdLl8wOTQ3QVswXS5Sb3RoX0JlZ19EdDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMDk0N0EuU2hyX0RzdHJfVmxfQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDk0N0FbMF0uU2hyX0RzdHJfVmxfQXQ7ICAgDQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzA5NDdBLk50Y19Ob19FYXJuX0F0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA5NDdBWzBdLk50Y19Ob19FYXJuX0F0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5SbW5fUmx2cl9BdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8wOTQ3QVswXS5SbW5fUmx2cl9BdDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMDk0N0EuRHNwbF9FeGNzX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA5NDdBWzBdLkRzcGxfRXhjc19DZDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMDk0N0EuR3Jzc19DYXNoX1BtdF9BdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8wOTQ3QVswXS5HcnNzX0Nhc2hfUG10X0F0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5OZXRfQ2FzaF9QbXRfQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDk0N0FbMF0uTmV0X0Nhc2hfUG10X0F0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5Sb3RoX0Vhcm5fQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDk0N0FbMF0uUm90aF9FYXJuX0F0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5OdGF4X1JsdnJfQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDk0N0FbMF0uTnRheF9SbHZyX0F0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5GbmxfTmV0X1N0X1R4YmxfQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDk0N0FbMF0uRm5sX05ldF9TdF9UeGJsX0F0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5PcmRuX0luY21fQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDk0N0FbMF0uT3Jkbl9JbmNtX0F0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8wOTQ3QS5Ob25fUmx2cl9DYXNoX0F0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA5NDdBWzBdLk5vbl9SbHZyX0Nhc2hfQXQ7DQogICAgICB9DQogICANCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzUzNjFCDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICANCiAgIA0KICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQi5Db3VudCA+IDApIC8vbWFrZSBzdXJlIHRoZXJlIGlzIGF0IGxlYXN0IDEgcmVjb3JkIG9mIF81MzYxYg0KICAgICAgew0KICAgICAgZm9yKEludCBpPTA7IGk8IElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyLkNvdW50O2krKykNCiAgICAgICAgIHsNCiAgICAgICAgIA0KICAgICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzYxQi5GdW5kZGVzY2RzcGxpbmZvX0FyLkN1bV9Sb3JfUHRfWXRkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbaV0uQ3VtX1Jvcl9QdF9ZdGQ7DQogICAgICAgICANCiAgICAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM2MUIuRnVuZGRlc2Nkc3BsaW5mb19Bci5BdmdfUm9yX1B0XzEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19BcltpXS5BdmdfUm9yX1B0XzE7DQogICAgICAgICANCiAgICAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM2MUIuRnVuZGRlc2Nkc3BsaW5mb19Bci5BdmdfUm9yX1B0XzM9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyW2ldLkF2Z19Sb3JfUHRfMzsNCiAgICAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM2MUIuRnVuZGRlc2Nkc3BsaW5mb19Bci5GdW5kX1Nkc2NfVHggPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19BcltpXS5GdW5kX1Nkc2NfVHg7DQogICAgICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUzNjFCLkZ1bmRkZXNjZHNwbGluZm9fQXIuQXZnX1Jvcl9QdF81ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbaV0uQXZnX1Jvcl9QdF81Ow0KICAgICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzYxQi5GdW5kZGVzY2RzcGxpbmZvX0FyLmNvbW1pdCgpOw0KICAgICAgICAgDQogICAgICAgICB9DQogICAgICB9DQogICANCiAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAgICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfNTM4MEENCiAgICAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgICAgIA0KICAgICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAgICAqKioqKioqKioqKioqKioqKioqKiovDQogICAgICANCiAgICAgIA0KICAgICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl81MzgwQS5Db3VudCA+IDApIC8vbWFrZSBzdXJlIHRoZXJlIGlzIGF0IGxlYXN0IDEgcmVjb3JkIG9mIF81MzgwYQ0KICAgICAgew0KICAgICAgZm9yKEludCBpPTA7IGk8IElucHV0XzAuUENTW3JlY29yZHNdLl81MzgwQVswXS5BY2N0YmFsaW5mb19Bci5Db3VudDtpKyspDQogICAgICAgICB7DQogICAgICAgICANCiAgICAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM4MEEuQWNjdGJhbGluZm9fQXIuQWNjdF9HcF9JZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzgwQVswXS5BY2N0YmFsaW5mb19BcltpXS5BY2N0X0dwX0lkOw0KICAgICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzgwQS5BY2N0YmFsaW5mb19Bci5CYWxfVmxfQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM4MEFbMF0uQWNjdGJhbGluZm9fQXJbaV0uQmFsX1ZsX0F0Ow0KICAgICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzgwQS5BY2N0YmFsaW5mb19Bci5HbnJjX0xkc2NfVHggPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM4MEFbMF0uQWNjdGJhbGluZm9fQXJbaV0uR25yY19MZHNjX1R4OyAgDQogICAgICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUzODBBLkFjY3RiYWxpbmZvX0FyLkludnNfUHQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM4MEFbMF0uQWNjdGJhbGluZm9fQXJbaV0uSW52c19QdDsNCiAgICAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM4MEEuQWNjdGJhbGluZm9fQXIuVmVzdF9QdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzgwQVswXS5BY2N0YmFsaW5mb19BcltpXS5WZXN0X1B0Ow0KICAgICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzgwQS5BY2N0YmFsaW5mb19Bci5jb21taXQoKTsNCiAgICAgICAgIA0KICAgICAgICAgfQ0KICAgICAgfQ0KICAgDQogICANCiAgIC8vLy8vMTg1OUEgVkFMVUVTLy8vLw0KICAgDQogICANCiAgIGlmKGdldDE4NTlBX0R5bmFtaWNWYXJpYWJsZVZhbHVlKHJlY29yZHMsIkZSTVQtTk9ULVNHTi1SLURBVEUiKSAgPT0iWSIgKQ0KICAgICAge091dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuRlJNVF9OT1RfRk9STSA9IHRydWU7DQogICB9DQppZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJSUUQtRE9DUy1OT1QtU0JNVCIpICA9PSJZIikNCiAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLlJRRF9ET0NTX0ZPUk0gPSB0cnVlOw0KfQ0KaWYoZ2V0MTg1OUFfRHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiU0dOLU5PVC1XSVQtLU5UUlkiKSAgPT0iWSIpDQogICB7T3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5TR05fTk9UX0ZPUk0gPSB0cnVlOw0KfQ0KDQppZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJEVC1OVFJZLVNHTi0tQkYtVSIpICA9PSJZIikNCiAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkRUX05UUllfRk9STSA9IHRydWU7DQp9DQppZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJKTlQtQU5VVC1ET0ItTVNORyIpICA9PSJZIikNCiAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkpOVF9BTlVUX0ZPUk0gPSB0cnVlOw0KfQ0KaWYoZ2V0MTg1OUFfRHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiRlJNVC1OT1QtUlROLUJZLURMIikgID09IlkiKQ0KICAge091dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuRlJNVF9OT1RfUlROX0ZPUk0gPSB0cnVlOw0KfQ0KDQovLzM2ODMvLw0KDQoNCmlmKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJsb2Ffc3BuZF9sbnJwIikgID09IlkiKQ0KICAgew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5sb2Ffc3BuZF9sbnJwID0gdHJ1ZTsNCiAgIH0NCg0KaWYoZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZVZhbHVlKHJlY29yZHMsImRjX2xvYW5fbG9hbWwiKSAgPT0iWSIpDQogICB7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLmRjX2xvYW5fbG9hbWwgPSB0cnVlOw0KICAgfQ0KDQppZihnZXQzNjgzQnJhbmRlZFNlbGVjdGlvblZhcmlhYmxlVmFsdWUocmVjb3JkcywibG9hX3NwbmRfbGVuZ3RoIikgID09IlkiKQ0KICAgew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5sb2Ffc3BuZF9sZW5ndGggPSB0cnVlOw0KICAgfQ0KDQppZihnZXQzNjgzQnJhbmRlZFNlbGVjdGlvblZhcmlhYmxlVmFsdWUocmVjb3Jkcywic3BydF9sbl9kdGRkIikgID09IlkiKQ0KICAgew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5zcHJ0X2xuX2R0ZGQgPSB0cnVlOw0KICAgfSAgIA0KDQppZihnZXQzNjgzQnJhbmRlZFNlbGVjdGlvblZhcmlhYmxlQ29kZU9yRGZuSWRTdHJpbmcocmVjb3JkcywiMTIzMDQxIikgID09IlkiKQ0KICAgew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5fMTIzMDQxID0gdHJ1ZTsNCiAgIH0NCg0KaWYoZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZUNvZGVPckRmbklkU3RyaW5nKHJlY29yZHMsIjEyMzA0MiIpICA9PSJZIikNCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY4M0EuXzEyMzA0MiA9IHRydWU7DQogICB9DQoNCmlmKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVDb2RlT3JEZm5JZFN0cmluZyhyZWNvcmRzLCIxMzc1MjEiKSAgPT0iWSIpDQogICB7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLl8xMzc1MjEgPSB0cnVlOw0KICAgfQ0KDQppZihnZXQzNjgzQnJhbmRlZFNlbGVjdGlvblZhcmlhYmxlQ29kZU9yRGZuSWRTdHJpbmcocmVjb3JkcywiMjM3NTIxIikgID09IlkiKQ0KICAgew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5fMjM3NTIxID0gdHJ1ZTsNCiAgIH0NCg0KaWYoZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZUNvZGVPckRmbklkU3RyaW5nKHJlY29yZHMsIjMzODcwMSIpICA9PSJZIikNCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY4M0EuXzMzODcwMSA9IHRydWU7DQogICB9DQoNCmlmKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVDb2RlT3JEZm5JZFN0cmluZyhyZWNvcmRzLCIzMzg3MDIiKSAgPT0iWSIpDQogICB7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLl8zMzg3MDIgPSB0cnVlOw0KICAgfQ0KaWYoZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZUNvZGVPckRmbklkU3RyaW5nKHJlY29yZHMsIjYxNDQ1OSIpICA9PSJZIikNCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY4M0EuXzYxNDQ1OSA9IHRydWU7DQogICB9ICAgDQoNCmlmKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVWYWx1ZShyZWNvcmRzLCI2MzU3NjEiKSAgPT0iWSIpDQogICB7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLl82MzU3NjEgPSB0cnVlOw0KICAgfSAgIA0KDQppZihnZXQzNjgzQnJhbmRlZFNlbGVjdGlvblZhcmlhYmxlVmFsdWUocmVjb3JkcywiNjAyOTU0IikgID09IlkiKQ0KICAgew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5fNjAyOTU0ID0gdHJ1ZTsNCiAgIH0gDQppZihnZXQzNjgzQnJhbmRlZFNlbGVjdGlvblZhcmlhYmxlVmFsdWUocmVjb3JkcywibG5fZHRkZF9lbGlnbG4iKSAgPT0iWSIpDQogICB7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLmxuX2R0ZGRfZWxpZ2xuID0gdHJ1ZTsNCiAgIH0gDQoNCiAgICAgIGlmKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJhZmR2X25vdF9ydHJuIikgID09IlkiKQ0KICAgICAge091dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY4M0EuSWRlbnRpdHkwID0gdHJ1ZTsNCiAgIH0NCiAgIGlmKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJwcnNuX2luZm9fbWlzcyIpICA9PSJZIikNCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLklkZW50aXR5MSA9IHRydWU7DQogICB9DQogICBpZihnZXQzNjgzQnJhbmRlZFNlbGVjdGlvblZhcmlhYmxlVmFsdWUocmVjb3JkcywiY3VzdF9zZ250X21pc3MiKSAgPT0iWSIpDQogICAgICB7T3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5JZGVudGl0eTIgPSB0cnVlOw0KICAgfQ0KaWYoZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZVZhbHVlKHJlY29yZHMsImFmZHZfbnRyeV9zZ250IikgID09IlkiKQ0KICAgICAge091dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY4M0EuSWRlbnRpdHkzID0gdHJ1ZTsNCiAgIH0NCmlmKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJudHJ5X2luZm9fbWlzcyIpICA9PSJZIikNCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLklkZW50aXR5NCA9IHRydWU7DQogICB9DQoNCmlmKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJNQUlMLVBSRUYtVVBEVCIpICA9PSJZIikNCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLk1haWwxID0gdHJ1ZTsNCiAgIH0NCiAgIGlmKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJFTUFMLVBSRUYtVVBEVCIpICA9PSJZIikNCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLk1haWwyID0gdHJ1ZTsNCiAgIH0NCiAgICAgDQogICAgIGlmKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVWYWx1ZShyZWNvcmRzLCJETFZSLUNIRy1OLVlCUiIpICA9PSJZIikNCiAgICAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLk1haWwzID0gdHJ1ZTsNCiAgIH0NCg0KLyoqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICANCiAgIGlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTkxOUEuQ291bnQgPiAwKSAvL21ha2Ugc3VyZSB0aGVyZSBpcyBhdCBsZWFzdCAxIHJlY29yZCBvZiAxOTE5DQogICB7DQogICB2YXIgcHJpb3JfeXJfZHQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTkxOUFbMF0uUnRydl9EdDsNCiAgIA0KICAgDQogICBpZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZShyZWNvcmRzLCI0MDJHLVJGTkQtQU1UIikgID09IlkiKQ0KICAgICAgew0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5SZm5kX0FtdCA9IHRydWU7IA0KICAgICAgfQ0KICAgDQogICBpZihnZXQxODU5QV9EeW5hbWljVmFyaWFibGVWYWx1ZShyZWNvcmRzLCI0MDJHLVdSTkctWVIiKSAgPT0iWSIpDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLldybmdfWXIgPSB0cnVlOyANCiAgICAgIH0NCiAgIA0KICAgaWYoZ2V0MTg1OUFfRHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiNDAyRy1DVVRPRkYtRFQiKSAgPT0iWSIpDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkN1dHRvZmZfRHQgPSB0cnVlOyANCiAgICAgIH0NCiAgIA0KICAgaWYoZ2V0MTg1OUFfRHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiNDAyRy1ET0MtSUxMRUdJQkxFIikgID09IlkiKQ0KICAgICAgew0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5Eb2NJbGxlZ2libGUgPSB0cnVlOyANCiAgICAgIH0NCiAgIA0KICAgaWYoZ2V0MTg1OUFfRHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiNDAyRy1BQ0NULUxPQ0siKSAgPT0iWSIpDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkFjY3RMb2NrID0gdHJ1ZTsgDQogICAgICB9DQogICANCiAgIGlmKGdldDE4NTlBX0R5bmFtaWNWYXJpYWJsZVZhbHVlKHJlY29yZHMsIjQwMkctWkVSTy1BQ0NULUJBTCIpICA9PSJZIikNCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuWmVyb0FjY3RCYWwgPSB0cnVlOyANCiAgICAgIH0NCiAgIA0KICAgaWYoZ2V0MTg1OUFfRHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiNDAyRy1NSVNTLVNJR04tRFQiKSAgPT0iWSIpDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLk1pc3NTaWduRHQgPSB0cnVlOyANCiAgICAgIH0NCiAgIA0KICAgaWYoZ2V0MTg1OUFfRHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiNDAyRy1GVVQtWUVBUi1SRVEiKSAgPT0iWSIpDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkZ1dFllYXJSZXEgPSB0cnVlOyANCiAgICAgIH0NCiAgIA0KICAgaWYoZ2V0MTg1OUFfRHluYW1pY1ZhcmlhYmxlVmFsdWUocmVjb3JkcywiNDAyRy1QUk9DLVJFUS1ZUiIpICA9PSJZIikNCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuUHJvY1lyID0gdHJ1ZTsgDQogICAgICB9DQogICB9DQoNCi8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF8xOTE5QSANCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgICAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICANCiAgIA0KICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl8xOTE5QS5Db3VudCA+IDApIC8vbWFrZSBzdXJlIHRoZXJlIGlzIGF0IGxlYXN0IDEgcmVjb3JkIG9mIDE5MTkNCiAgIHsNCiAgIA0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xOTE5QS5QRm9vdCA9IGdldDE5MTlBX0JyYW5kZWREYXRlUmV0cmlldmFsKHJlY29yZHMsICIyMzcxNTEiKTsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTkxOUEuUE5vdGUgPSBnZXQxOTE5QV9CcmFuZGVkRGF0ZVJldHJpZXZhbChyZWNvcmRzLCAiMTM3MTUxIik7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE5MTlBLlJ0cnZfRHQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTkxOUFbMF0uUnRydl9EdDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTkxOUEuRHRfUnRydl9Ccm5kX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzE5MTlBWzBdLkR0X1J0cnZfQnJuZF9DZDsNCiAgIC8vaWYoZ2V0MTg1OUR5bmFtaWNWYXJpYWJsZVZhbHVlKCJEQi1CRU5FLU5PLURUIikgID09IlkiKQ0KICAgLy97T3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5EQl9CRU5FX05PX0RUID0gdHJ1ZTsNCiAgIC8vfQ0KICAgfQ0KDQovKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfNDQwOEEgDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICAgICANCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgDQogICANCiAgIGlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNDQwOEEuQ291bnQgPiAwKSAvL21ha2Ugc3VyZSB0aGVyZSBpcyBhdCBsZWFzdCAxIHJlY29yZCBvZiBfNDQwOGENCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNDQwOEEuQWN0X0VmZHQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNDQwOEFbMF0uQWN0X0VmZHQ7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzQ0MDhBLkFjdF9Ccm5kX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ0MDhBWzBdLkFjdF9Ccm5kX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl80NDA4QS5BY3RfTGRzY19UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl80NDA4QVswXS5BY3RfTGRzY19UeDsNCiAgIH0gIA0KDQoNCg0KaWYoZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZVZhbHVlKHJlY29yZHMsIkJFTkUtRFNQTC1DRCIpICA9PSJZIikNCiAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLkJlbmVmMSA9IHRydWU7DQp9DQppZihnZXQzNjgzQnJhbmRlZFNlbGVjdGlvblZhcmlhYmxlVmFsdWUocmVjb3JkcywiQkVORS1TUFMiKSAgPT0iTiIpDQogICB7T3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5CZW5lX1NwcyA9IHRydWU7DQp9DQoNCg0KaWYoZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZVZhbHVlKHJlY29yZHMsIk1ELUJFTkUtRURCLU5TUCIpICA9PSJZIikNCiAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLk1kX0JlbmVfRWRiID0gdHJ1ZTsNCn0NCg0KLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzIwNTRBIA0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgIGlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEEuQ291bnQgPiAwKSAvL21ha2Ugc3VyZSB0aGVyZSBpcyBhdCBsZWFzdCAxIHJlY29yZCBvZiBfMjA1NGENCiAgIHsgICAgICAgICAgICAgDQogICANCiAgIA0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yMDU0QS5CY19ObSA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5CY19ObSA7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLkJjX1Bobl9Ocl9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5CY19QaG5fTnJfVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLkVyX05tID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLkVyX05tOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yMDU0QS5CY19ObV9BcnRfVHggPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uQmNfTm1fQXJ0X1R4Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yMDU0QS5BZGRyX0xpbmVfMV9UeCAgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uQWRkcl9MaW5lXzFfVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLkFkZHJfTGluZV8yX1R4ICA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5BZGRyX0xpbmVfMl9UeDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuU3RfQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uU3RfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLlppcF9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5aaXBfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLkNpdHlfTm0gPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uQ2l0eV9ObTsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuRmF4aXRfQm5mdGNudHJubWJyID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLkZheGl0X0JuZnRjbnRybm1icjsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuRmF4aXRfSW50bF9DdHJ5X05tID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLkZheGl0X0ludGxfQ3RyeV9ObTsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuRmF4aXRpbnRsY3RyeXBmeHR4ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLkZheGl0aW50bGN0cnlwZnh0eDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuV2ViX1NpdGVfTm0gPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uV2ViX1NpdGVfTm07DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLldlYl9TaXRlX05tX1N5bV9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5XZWJfU2l0ZV9ObV9TeW1fQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLldlYl9TaXRlX05tX0l0bF9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5XZWJfU2l0ZV9ObV9JdGxfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLlNwcnRfRmF4aXRfQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uU3BydF9GYXhpdF9DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuV2ViX0F2bGJfQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uV2ViX0F2bGJfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLkZtaV9Mb2dvX0RzcGxfQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uRm1pX0xvZ29fRHNwbF9DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuRGJfV2ViX0F2bGJfQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uRGJfV2ViX0F2bGJfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLkNtX1dlYl9BdmxiX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLkNtX1dlYl9BdmxiX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yMDU0QS5Qb3J0bF9ObV9TeW1fQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uUG9ydGxfTm1fU3ltX0NkOyAgIA0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yMDU0QS5Qb3J0bF9ObSA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5Qb3J0bF9ObTsgICANCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuV2ViX1VybF9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5XZWJfVXJsX1R4OyAgIA0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yMDU0QS5CY19BdmxiX0hyc19UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5CY19BdmxiX0hyc19UeDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuQWRkbF9CY19QaG5ubWJyX1R4ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLkFkZGxfQmNfUGhubm1icl9UeDsgICANCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuUG9ydGxfTm1fSXRsX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLlBvcnRsX05tX0l0bF9DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuQmNfTm1fQXJ0X1R4ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLkJjX05tX0FydF9UeDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuV2ViX1NpdGVfTm0gPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uV2ViX1NpdGVfTm07DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLldlYl9TaXRlX05tX1N5bV9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5XZWJfU2l0ZV9ObV9TeW1fQ2Q7ICAgDQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLkZtaV9Ec3BsX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLkZtaV9Ec3BsX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yMDU0QS5XZWJfQXZsYl9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5XZWJfQXZsYl9DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuUG9ydGxfTm0gPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uUG9ydGxfTm07DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLlBvcnRsX05tX1N5bV9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5Qb3J0bF9ObV9TeW1fQ2Q7ICAgDQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLkJjX0F2bGJfQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uQmNfQXZsYl9DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuRm1pX0ZheG1haWxfQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uRm1pX0ZheG1haWxfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLkN0cnlfTm1fQXJ0bF9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5DdHJ5X05tX0FydGxfVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLkN0cnlfTm0gPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uQ3RyeV9ObTsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuVG9sbF9GcmVlX1Bobl9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5Ub2xsX0ZyZWVfUGhuX1R4OyAgIA0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yMDU0QS5JbnRsX0JjX1Bobm5tYnJfVHggPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uSW50bF9CY19QaG5ubWJyX1R4OyAgIA0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yMDU0QS5Mb2dvX0ZvbnRfTm0gPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uTG9nb19Gb250X05tOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yMDU0QS5Mb2dvX1R4ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLkxvZ29fVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLkZ0bnRfUG9ydGxfQ29fTm09SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLkZ0bnRfUG9ydGxfQ29fTm07DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLkZ0bnRfV2Vic2l0ZV9Db19ObT0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLkZ0bnRfV2Vic2l0ZV9Db19ObTsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuUGNzX1dlYl9VcmxfVHggPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uUGNzX1dlYl9VcmxfVHg7ICAgDQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLndlYlJlZmVyZW5jZSA9IHdlYlJlZmVyZW5jZUNoZWNrKENtcHNBcHBsQ2QsIHdlYkF2bGJDZCxkYldlYkF2bGJDb2RlLGNtV2ViQXZsYkNkKTsgICANCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuQmNfTm1fQXJ0X1R4ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLkJjX05tX0FydF9UeDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuVXBsZF9FbGlnX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLlVwbGRfRWxpZ19DZDsgICANCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuT3ZybmdodF9TcHJ0X0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLk92cm5naHRfU3BydF9DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjA1NEEuT3ZybmdodF9BZGRyXzFfVHggPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uT3ZybmdodF9BZGRyXzFfVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLk92cm5naHRfQWRkcl8yX1R4ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLk92cm5naHRfQWRkcl8yX1R4Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yMDU0QS5PdnJuZ2h0X0NpdHlfTm0gPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjA1NEFbMF0uT3ZybmdodF9DaXR5X05tOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yMDU0QS5PdnJuZ2h0X1N0X0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLk92cm5naHRfU3RfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLk92cm5naHRfWmlwX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLk92cm5naHRfWmlwX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yMDU0QS5FZmR0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIwNTRBWzBdLkVmZHQ7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLkRmbHRmb3JtZGx2cm1vZGVjZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5EZmx0Zm9ybWRsdnJtb2RlY2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIwNTRBLkVyX05tX0FydF9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMDU0QVswXS5Fcl9ObV9BcnRfVHg7DQogICB9DQoNCg0KDQovKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfMjM3NkENCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgICAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIzNzZBLkNvdW50ID4gMCkgLy9tYWtlIHN1cmUgdGhlcmUgaXMgYXQgbGVhc3QgMSByZWNvcmQgb2YgXzUyMjhhDQogICB7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIzNzZBLkFkZHJfTGRzY19UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMzc2QVswXS5BZGRyX0xkc2NfVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIzNzZBLlJlY19BY3RuX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIzNzZBWzBdLlJlY19BY3RuX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yMzc2QS5BZGRyX0JybmRfQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjM3NkFbMF0uQWRkcl9Ccm5kX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yMzc2QS5BZGRyX0ZybXRfVHlwZV9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8yMzc2QVswXS5BZGRyX0ZybXRfVHlwZV9DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjM3NkEuT3ZtX09ubHlfQ2hnX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIzNzZBWzBdLk92bV9Pbmx5X0NoZ19DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjM3NkEuRm1ydF9BZGRyX0xuX1R4PUlucHV0XzAuUENTW3JlY29yZHNdLl8yMzc2QVswXS5Gcm10X0FkZHJfTGluZV9UeDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjM3NkEuRm1ydF9BZGRyX0xuMV9UeD1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjM3NkFbMF0uRnJtdF9BZGRyX0xpbmUxX1R4Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yMzc2QS5GbXJ0X0FkZHJfTG4yX1R4PUlucHV0XzAuUENTW3JlY29yZHNdLl8yMzc2QVswXS5Gcm10X0FkZHJfTGluZTJfVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzIzNzZBLkZtcnRfQWRkcl9MbjNfVHg9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzIzNzZBWzBdLkZybXRfQWRkcl9MaW5lM19UeDsNCiAgIA0KICAgDQogICB9DQoNCg0KDQoNCg0KDQovKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfMjcyOQ0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgIA0KICAgDQogICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzI3MjlBLkNvdW50ID4gMCkgLy9tYWtlIHN1cmUgdGhlcmUgaXMgYXQgbGVhc3QgMSByZWNvcmQgb2YgXzI3MjlhDQogICB7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzI3MjlBLkFzdF9UaXBfQ2QgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzI3MjlBWzBdLkFzdF9UaXBfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzI3MjlBLkNiX01rdF9WbF9BdCA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMjcyOUFbMF0uQ2JfTWt0X1ZsX0F0Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8yNzI5QS5EdGxfTmV3X0Fsb2NfUHQgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzI3MjlBWzBdLkR0bF9OZXdfQWxvY19QdDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMjcyOUEuQXN0X0Nsc19MZHNjX1R4ID0gIElucHV0XzAuUENTW3JlY29yZHNdLl8yNzI5QVswXS5Bc3RfQ2xzX0xkc2NfVHg7DQogICANCiAgIA0KICAgfQ0KDQoNCi8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzE4NTlBDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICAgICANCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgDQogICANCiAgIGlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTg1OUEuQ291bnQgPiAwKSAvL21ha2Ugc3VyZSB0aGVyZSBpcyBhdCBsZWFzdCAxIHJlY29yZCBvZiBfMTg1OUENCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuQ2RkX0ZsZF9JbnRuX0lkID0gIElucHV0XzAuUENTW3JlY29yZHNdLl8xODU5QVswXS5DZGRfRmxkX0ludG5fSWQ7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkNkaF9GbGRfVmxfVHggPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzE4NTlBWzBdLkNkaF9GbGRfVmxfVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkNkZF9GbGRfQnJuZF9DZCA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTg1OUFbMF0uQ2RkX0ZsZF9Ccm5kX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5DZGhfRmxkX1ZsX1R4MSA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTg1OUFbMV0uQ2RoX0ZsZF9WbF9UeDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuQ2RoX0ZsZF9WbF9UeDIgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzE4NTlBWzJdLkNkaF9GbGRfVmxfVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkNkZF9GbGRfQnJuZF9DZDIgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzE4NTlBWzJdLkNkZF9GbGRfQnJuZF9DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMTg1OUEuQ2RkX0ZsZF9Ccm5kX0NkMSA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTg1OUFbMV0uQ2RkX0ZsZF9Ccm5kX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5QS5DZGRfRmxkX0JybmRfQ2QzID0gIElucHV0XzAuUENTW3JlY29yZHNdLl8xODU5QVszXS5DZGRfRmxkX0JybmRfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlBLkNkaF9GbGRfVmxfVHgzID0gIElucHV0XzAuUENTW3JlY29yZHNdLl8xODU5QVszXS5DZGhfRmxkX1ZsX1R4Ow0KICAgfQ0KLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfMTg1OUQNCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgICAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICANCiAgIA0KICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl8xODU5RC5Db3VudCA+IDApIC8vbWFrZSBzdXJlIHRoZXJlIGlzIGF0IGxlYXN0IDEgcmVjb3JkIG9mIF8xODU5RA0KICAgew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODU5RC5McmdfQ2RkX0ZsZF9WbF9UeCA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTg1OURbMF0uTHJnX0NkZF9GbGRfVmxfVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NTlELkNkZF9GbGRfQnJuZF9DZCA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTg1OURbMF0uQ2RkX0ZsZF9Ccm5kX0NkOw0KICAgDQogICB9DQoNCi8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF8zMDU0DQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICAgICANCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgDQogICANCiAgIGlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzA1NEEuQ291bnQgPiAwKSAvL21ha2Ugc3VyZSB0aGVyZSBpcyBhdCBsZWFzdCAxIHJlY29yZCBvZiBfMzA1NGENCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzA1NEEuRWZiZWdkdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8zMDU0QVswXS5FZmJlZ2R0LmZvcm1hdCgiTU0tZGQteXl5eSIsImVuIik7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzMwNTRBLkVmZW5kZHQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzA1NEFbMF0uRWZlbmRkdC5mb3JtYXQoIk1NLWRkLXl5eXkiLCJlbiIpOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zMDU0QS5FZmVuZGR0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzMwNTRBWzBdLkVmZW5kZHQuZm9ybWF0KCJNTS1kZC15eXl5IiwiZW4iKTsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzA1NEEuT2JfTWt0X1ZsX0F0ICA9IElucHV0XzAuUENTW3JlY29yZHNdLl8zMDU0QVswXS5PYl9Na3RfVmxfQXQudG9TdHJpbmcoMiwyLCIsIiwiLiIpOyAgLy9NYXggMiBkZWNpbWFsLCBNaW4gMiBkZWNpbWEsIENvbW1hIFRob3VzYW5kcywgRGVjaW1hbCBmb3IgQ2VudHMgICAgIA0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zMDU0QS5CYWxfQXQgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzMwNTRBWzBdLkJhbF9BdC50b1N0cmluZygyLDIsIiwiLCIuIik7ICAvL01heCAyIGRlY2ltYWwsIE1pbiAyIGRlY2ltYSwgQ29tbWEgVGhvdXNhbmRzLCBEZWNpbWFsIGZvciBDZW50cyAgICAgICANCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzA1NEEuWXRkX1d0aGRfQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzA1NEFbMF0uWXRkX1d0aGRfQXQudG9TdHJpbmcoMiwyLCIsIiwiLiIpOyAgLy9NYXggMiBkZWNpbWFsLCBNaW4gMiBkZWNpbWEsIENvbW1hIFRob3VzYW5kcywgRGVjaW1hbCBmb3IgQ2VudHMgICAgICAgICANCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzA1NEEuVG90X0ZlZV9BdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8zMDU0QVswXS5Ub3RfRmVlX0F0LnRvU3RyaW5nKDIsMiwiLCIsIi4iKTsgIC8vTWF4IDIgZGVjaW1hbCwgTWluIDIgZGVjaW1hLCBDb21tYSBUaG91c2FuZHMsIERlY2ltYWwgZm9yIENlbnRzICAgICAgICAgIA0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zMDU0QS5ZdGRfVG90X05ldF9BdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8zMDU0QVswXS5ZdGRfVG90X05ldF9BdC50b1N0cmluZygyLDIsIiwiLCIuIik7ICAvL01heCAyIGRlY2ltYWwsIE1pbiAyIGRlY2ltYSwgQ29tbWEgVGhvdXNhbmRzLCBEZWNpbWFsIGZvciBDZW50cyAgICAgICAgICANCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzA1NEEuT3Rocl9WYWxfQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzA1NEFbMF0uT3Rocl9WbF9BdC50b1N0cmluZygyLDIsIiwiLCIuIik7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzMwNTRBLkxvYW5fQXQgICAgPUlucHV0XzAuUENTW3JlY29yZHNdLl8zMDU0QVswXS5Mb2FuX0F0Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zMDU0QS5DYl9Na3RfVmxfQXQgICAgPUlucHV0XzAuUENTW3JlY29yZHNdLl8zMDU0QVswXS5DYl9Na3RfVmxfQXQudG9TdHJpbmcoMiwyLCIsIiwiLiIpOw0KICAgDQogICBpZiAoKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVWYWx1ZShyZWNvcmRzLCAiRFNQTC1GRUUtRVhQTi0wIik9PSAiWSIpIGFuZCAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzMwNTRBWzBdLlRvdF9GZWVfQXQgPT0gMCkpDQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzMwNTRBLkZlZXNFeHBlbnNlc1Bvc2l0aXZlID0gdHJ1ZTsNCiAgIGVsc2UNCiAgICAgIGlmICgoKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVWYWx1ZShyZWNvcmRzLCAiRFNQTC1GRUUtRVhQTi0wIik9PSAiTiIpIGFuZCAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzMwNTRBWzBdLlRvdF9GZWVfQXQgPT0gMCkpDQogICAgICBvciAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzMwNTRBWzBdLlRvdF9GZWVfQXQgPCAwKSkNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzA1NEEuRmVlc0V4cGVuc2VzUG9zaXRpdmUgPSBmYWxzZTsNCiAgIC8vICB9DQogICANCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzA1NEEuVmVzdF9CYWxfQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzA1NEFbMF0uVmVzdF9CYWxfQXQudG9TdHJpbmcoMiwyLCIsIiwiLiIpOyAgLy9NYXggMiBkZWNpbWFsLCBNaW4gMiBkZWNpbWEsIENvbW1hIFRob3VzYW5kcywgRGVjaW1hbCBmb3IgQ2VudHMgICAgICAgICAgDQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzMwNTRBLlJvcl9QdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8zMDU0QVswXS5Sb3JfUHQudG9TdHJpbmcoMiwyLCIsIiwiLiIpOyAgLy9NYXggMiBkZWNpbWFsLCBNaW4gMiBkZWNpbWEsIENvbW1hIFRob3VzYW5kcywgRGVjaW1hbCBmb3IgQ2VudHMgICAgICAgIA0KICAgfQ0KLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzM2NjFBDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICAgICANCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl8zNjYxQS5Db3VudCA+IDApIC8vbWFrZSBzdXJlIHRoZXJlIGlzIGF0IGxlYXN0IDEgcmVjb3JkIG9mIF81MjI4YQ0KICAgew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjYxQS5Gcm10X05tID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM2NjFBWzBdLkZybXRfTm07DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2NjFBLkZyc3RfTm0gPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY2MUFbMF0uRnJzdF9ObTsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY2MUEuTWlkX05tID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM2NjFBWzBdLk1pZF9ObTsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY2MUEuTGFzdF9ObSA9IElucHV0XzAuUENTW3JlY29yZHNdLl8zNjYxQVswXS5MYXN0X05tOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjYxQS5QcnNuX0ludG5fSWQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY2MUFbMF0uUHJzbl9JbnRuX0lkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjYxQS5QcnNuX1Jzbl9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8zNjYxQVswXS5QcnNuX1Jzbl9DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY2MUEuQnJ0aF9EdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8zNjYxQVswXS5CcnRoX0R0Ow0KICAgfQ0KDQoNCi8qKioqKioqKioqKioqKioqKioqKiAgICAgIF8zNjc1QQ0KLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQovKioqKioqKioqKioqKioqKioqKioNCioqKioqKioqKioqKioqKioqKioqKi8NCmlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY3NUEuQ291bnQgPiAwKSAvL21ha2Ugc3VyZSB0aGVyZSBpcyBhdCBsZWFzdCAxIHJlY29yZCBvZiBfNTIyOGENCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY3NUEuQ2RkX0ZsZF9WbF9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8zNjc1QVswXS5DZGRfRmxkX1ZsX1R4Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjc1QS5DZGRfRmxkX1ZsX1R4XzEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY3NUFbMV0uQ2RkX0ZsZF9WbF9UeDsgIA0KICAgDQogICB9DQoNCi8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF8zNzAwQQ0KICAgDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM3MDBBLkNvdW50ID4gMCkNCiAgIHsNCiAgIA0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNzAwQS5Ub3RfU2NuZF9CZW5lX0N0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM3MDBBWzBdLlRvdF9TY25kX0JlbmVfQ3Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM3MDBBLlBwX05fUGFydF9QcnR5X1NxID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM3MDBBWzBdLlBwX05fUGFydF9QcnR5X1NxOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNzAwQS5Ub3RfUHJpbV9CZW5lX0N0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM3MDBBWzBdLlRvdF9QcmltX0JlbmVfQ3Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM3MDBBLlFkcm9fRWZkdCA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzcwMEFbMF0uUWRyb19FZmR0Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNzAwQS5QcnNuX0xvbmdfTm0gPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM3MDBBWzBdLlByc25fTG9uZ19ObTsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzcwMEEuUmx0bl9DZCA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzcwMEFbMF0uUmx0bl9DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzcwMEEuUHBfTl9QYXJ0X0Rub21fQXQgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM3MDBBWzBdLlBwX05fUGFydF9Ebm9tX0F0Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNzAwQS5QcF9OX1BhcnRfUmN2X0F0ID0gIElucHV0XzAuUENTW3JlY29yZHNdLl8zNzAwQVswXS5QcF9OX1BhcnRfUmN2X0F0Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNzAwQS5QcF9OX1BhcnRfTnVtcl9BdCA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzcwMEFbMF0uUHBfTl9QYXJ0X051bXJfQXQ7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM3MDBBLkRzZ25fUnNuX0NkID0gIElucHV0XzAuUENTW3JlY29yZHNdLl8zNzAwQVswXS5Ec2duX1Jzbl9DZDsNCiAgIA0KICAgaWYoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM3MDBBWzBdLl8zMzM3QS5Db3VudD4wKQ0KICAgICAgew0KICAgICAgDQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM3MDBBLl8zMzM3QS5CYWxfVmxfQXQgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM3MDBBWzBdLl8zMzM3QVswXS5CYWxfVmxfQXQ7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM3MDBBLl8zMzM3QS5BY3RnX1Bvc3RfVHlwZV9DZCA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzcwMEFbMF0uXzMzMzdBWzBdLkFjdGdfUG9zdF9UeXBlX0NkOyANCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzcwMEEuXzMzMzdBLkJsZ3BfQnJuZF9DZCA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzcwMEFbMF0uXzMzMzdBWzBdLkJsZ3BfQnJuZF9DZDsNCiAgICAgIH0NCiAgIA0KICAgfQ0KDQovKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfMzMzN0ENCiAgIA0KICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl8zMzM3QS5Db3VudCA+IDApDQogICB7DQogICANCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzMzN0EuQWN0Z19Qb3N0X1R5cGVfQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzMzN0FbMF0uQWN0Z19Qb3N0X1R5cGVfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzMzMzdBLkJsZ3BfQnJuZF9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8zMzM3QVswXS5CbGdwX0JybmRfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzMzMzdBLkJhbF9WbF9BdCA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzMzN0FbMF0uQmFsX1ZsX0F0Ow0KICAgDQogICB9ICANCg0KDQoNCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF8zNjYzQSBBcnJheQ0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgIA0KICAgDQogICANCiAgIGZvciAoSW50IEluZGV4MzY2MUEgOyBJbmRleDM2NjFBICA8ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY2MUEuQ291bnQ7IEluZGV4MzY2MUEgKyspDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuXzM2NjFBICA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY2MUFbSW5kZXgzNjYxQV07DQogICAgICBPdXRwdXRfMC5QQ1MuXzM2NjFBLmNvbW1pdCgpOw0KICAgICAgfSANCg0KDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfMzY2M0EgQXJyYXkNCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgICAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICANCiAgIA0KICAgDQogICBmb3IgKEludCBJbmRleDM2NjNBIDsgSW5kZXgzNjYzQSAgPCAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM2NjNBLkNvdW50OyBJbmRleDM2NjNBICsrKQ0KICAgICAgew0KICAgICAgT3V0cHV0XzAuUENTLl8zNjYzQSAgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM2NjNBW0luZGV4MzY2M0FdOw0KICAgICAgT3V0cHV0XzAuUENTLl8zNjYzQS5jb21taXQoKTsNCiAgICAgIH0gIA0KDQoNCg0KLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzM2ODNBIA0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fMzY4M0EuRlVUX0lWTF9EU1BMICA9ICBnZXQzNjgzQnJhbmRlZFNlbGVjdGlvblZhcmlhYmxlQ29kZU9yRGZuSWRTdHJpbmcocmVjb3JkcywgIkZVVC1JVkVMLURTUEwiKTsNCmlmKGdldDM2ODNCcmFuZGVkU2VsZWN0aW9uVmFyaWFibGVWYWx1ZShyZWNvcmRzLCIyMjkzMjEiKSAgPT0iTiIpDQogICB7T3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zNjgzQS5Gb290Tm90ZTEgPSB0cnVlOw0KfQ0KaWYoZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZVZhbHVlKHJlY29yZHMsIjEyOTMyMSIpICA9PSJOIikNCiAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLkZvb3ROb3RlMiA9IHRydWU7DQp9DQppZihnZXQzNjgzQnJhbmRlZFNlbGVjdGlvblZhcmlhYmxlVmFsdWUocmVjb3JkcywiQUNUVi1MT0FOLUFMTCIpICA9PSJZIikNCiAgIHtPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzM2ODNBLkFDVFZfTE9BTl9BTEwgPSB0cnVlOw0KfQ0KDQoNCmZvciAoSW50IEluZGV4MzY4MzsgSW5kZXgzNjgzIDwgIElucHV0XzAuUENTW3JlY29yZHNdLl8zNjgzQS5Db3VudDsgSW5kZXgzNjgzKyspDQogICB7DQogICBmb3IgKEludCBJbmRleDM2NzU7IEluZGV4MzY3NSA8ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY4M0FbSW5kZXgzNjgzXS5fMzY3NUEuQ291bnQ7IEluZGV4MzY3NSsrKQ0KICAgICAgew0KICAgICAgT3V0cHV0XzAuUENTLl8zNjgzQS5fMzY3NUEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY4M0FbSW5kZXgzNjgzXS5fMzY3NUFbSW5kZXgzNjc1XTsNCiAgICAgIE91dHB1dF8wLlBDUy5fMzY4M0EuXzM2NzVBIC5jb21taXQoKTsNCiAgICAgIE91dHB1dF8wLlBDUy5fMzY4M0EuU2xjdF9EZm5fSWQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzY4M0FbMF0uU2xjdF9EZm5fSWQ7DQogICAgICB9DQogICANCiAgIA0KICAgDQogICBPdXRwdXRfMC5QQ1MuXzM2ODNBID0gIElucHV0XzAuUENTW3JlY29yZHNdLl8zNjgzQVtJbmRleDM2ODNdOw0KICAgT3V0cHV0XzAuUENTLl8zNjgzQS5jb21taXQoKTsNCiAgIH0NCg0KLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzM3MDBBICYgXzMzMzdBDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICAgICANCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgDQogICBmb3IgKEludCBJbmRleDM3MDA7IEluZGV4MzcwMCA8ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzcwMEEuQ291bnQ7IEluZGV4MzcwMCsrKQ0KICAgew0KICAgT3V0cHV0XzAuUENTLl8zNzAwQSA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzcwMEFbSW5kZXgzNzAwXTsNCiAgIGZvciAoSW50IEluZGV4MzMzN0E7IEluZGV4MzMzN0EgPCAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzM3MDBBW0luZGV4MzcwMF0uXzMzMzdBLkNvdW50OyBJbmRleDMzMzdBKyspDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuXzM3MDBBLl8zMzM3QSA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzcwMEFbSW5kZXgzNzAwXS5fMzMzN0FbSW5kZXgzMzM3QV07DQogICAgICBPdXRwdXRfMC5QQ1MuXzM3MDBBLl8zMzM3QS5jb21taXQoKTsNCiAgICAgIH0NCiAgIE91dHB1dF8wLlBDUy5fMzcwMEEuY29tbWl0KCk7DQogICB9DQoNCg0KDQovLyBZQ19BcnJheV9GaXJzdE9mVHJlZQ0KDQppZihJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzMzN0EuQ291bnQgPiAwKQ0KICAgew0KICAgDQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuWUNfQXJyYXkuWVREX0ZsYWcgPTE7DQogICANCiAgIA0KICAgfQ0KDQoNCi8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgWUNfQXJyYXkgICAgIA0KICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgDQogICB2YXIgWVRDX1Jvd19Db3VudCA9MDsNCmZvciAoSW50IHk7IHkgPCBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzMzN0EuQ291bnQ7IHkrKykNCiAgIHsNCiAgIGlmKElucHV0XzAuUENTW3JlY29yZHNdLl8zMzM3QVt5XS5CZWdfRHRfUnRydl9Ccm5kY2QgPT0gIkZSU1QtT0YtQ1lZIikNCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5ZQ19BcnJheS5MZHNjPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzMzMzdBW3ldLkJsZ3BfTGRzY19UeDsNCiAgICAgIH0NCiAgIE91dHB1dF8wLlBDUy5ZQ19BcnJheS5ZVERfQXQgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzMzMzdBW3ldLkJhbF9WbF9BdDsNCiAgIGlmKElucHV0XzAuUENTW3JlY29yZHNdLl8zMzM3QVt5XS5CYWxfVmxfQXQgPjApDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuWUNfQXJyYXkuWVREX0ZsYWcgPTE7DQogICAgICB9DQogICBpZihJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzMzN0FbeV0uQmVnX0R0X1J0cnZfQnJuZGNkID09ICJGUlNULU9GLUNZWSIpDQogICAgICB7DQogICAgICBPdXRwdXRfMC5QQ1MuWUNfQXJyYXkuUVREX0F0ID0gIElucHV0XzAuUENTW3JlY29yZHNdLl8zMzM3QVt5XS5CYWxfVmxfQXQ7DQogICAgICB9DQogICBPdXRwdXRfMC5QQ1MuWUNfQXJyYXkuY29tbWl0KCk7DQogICB9DQoNCg0KLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzQ0MDhBIA0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgIA0KICAgZm9yIChJbnQgSW5kZXg0NDA4OyBJbmRleDQ0MDggPCAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ0MDhBLkNvdW50OyBJbmRleDQ0MDgrKykNCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5fNDQwOEEgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ0MDhBW0luZGV4NDQwOF07DQogICBPdXRwdXRfMC5QQ1MuXzQ0MDhBLmNvbW1pdCgpOw0KICAgfQ0KDQoNCg0KDQoNCg0KLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzE4MzFBIA0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgIA0KICAgZm9yIChJbnQgSW5kZXgxODMxQTsgSW5kZXgxODMxQSA8ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTgzMUEuQ291bnQ7IEluZGV4MTgzMUErKykNCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5fMTgzMUEgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzE4MzFBW0luZGV4MTgzMUFdOw0KICAgT3V0cHV0XzAuUENTLl8xODMxQS5jb21taXQoKTsNCiAgIH0NCg0KDQovKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF8xODMxQQ0KICAgLyoqKioqKioqKioqKioqKioqKioqLyAgICAgIA0KICAgDQogICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzE4MzFBLkNvdW50ID4gMCkgLy9tYWtlIHN1cmUgdGhlcmUgaXMgYXQgbGVhc3QgMSByZWNvcmQgb2YgXzE4MzFBDQogICB7DQogICANCiAgIA0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODMxQS5HbnJjX0xyZ19BdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl8xODMxQVswXS5HbnJjX0xyZ19BdDsNCiAgIH0NCg0KDQoNCi8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF80NDU4QSANCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgICAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICANCiAgIGZvciAoSW50IEluZGV4NDQ1ODsgSW5kZXg0NDU4IDwgIElucHV0XzAuUENTW3JlY29yZHNdLl80NDU4QS5Db3VudDsgSW5kZXg0NDU4KyspDQogICB7DQogICBPdXRwdXRfMC5QQ1MuXzQ0NThBID0gIElucHV0XzAuUENTW3JlY29yZHNdLl80NDU4QVtJbmRleDQ0NThdOw0KICAgT3V0cHV0XzAuUENTLl80NDU4QS5jb21taXQoKTsNCiAgIH0NCg0KLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzQ0NjVDIEFycmF5DQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICAgICANCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgDQogICBmb3IgKEludCBJbmRleDQ0NjVDIDsgSW5kZXg0NDY1QyAgPCAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ0NjVDIC5Db3VudDsgSW5kZXg0NDY1QyArKykNCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5fNDQ2NUMgID0gIElucHV0XzAuUENTW3JlY29yZHNdLl80NDY1Q1tJbmRleDQ0NjVDXTsNCiAgIE91dHB1dF8wLlBDUy5fNDQ2NUMuY29tbWl0KCk7DQogICB9DQoNCi8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF80NDY1QiBBcnJheQ0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgIA0KICAgZm9yIChJbnQgSW5kZXg0NDY1QiA7IEluZGV4NDQ2NUIgIDwgIElucHV0XzAuUENTW3JlY29yZHNdLl80NDY1QiAuQ291bnQ7IEluZGV4NDQ2NUIgKyspDQogICB7DQogICBPdXRwdXRfMC5QQ1MuXzQ0NjVCICA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNDQ2NUJbSW5kZXg0NDY1Ql07DQogICBPdXRwdXRfMC5QQ1MuXzQ0NjVCLmNvbW1pdCgpOw0KICAgfQ0KDQovLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzQ0NjVDICANCg0KaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl80NDY1Qy5Db3VudCA+IDApIC8vbWFrZSBzdXJlIHRoZXJlIGlzIGF0IGxlYXN0IDEgcmVjb3JkIG9mIF81MjI4YQ0KICAgew0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl80NDY1Qy5Mb2FuX0NhdF9MZHNjX1R4ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ0NjVDWzBdLkxvYW5fQ2F0X0xkc2NfVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzQ0NjVDLkxvYW5fRWZkdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl80NDY1Q1swXS5Mb2FuX0VmZHQ7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzQ0NjVDLkxvYW5fU3R0bF9BdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl80NDY1Q1swXS5Mb2FuX1N0dGxfQXQ7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzQ0NjVDLkxvYW5fQW1ydF9ScG10X0F0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ0NjVDWzBdLkxvYW5fQW1ydF9ScG10X0F0Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl80NDY1Qy5GbmxfQW1ydF9TY2hkX0VmZHQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNDQ2NUNbMF0uRm5sX0FtcnRfU2NoZF9FZmR0Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl80NDY1Qy5BbGxfTG9hbl9TdHRsX0F0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ0NjVDWzBdLkFsbF9Mb2FuX1N0dGxfQXQ7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzQ0NjVDLkFsbF9BbXJ0X1JwbXRfQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNDQ2NUNbMF0uQWxsX0FtcnRfUnBtdF9BdDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNDQ2NUMuTG9hbl9TdF9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl80NDY1Q1swXS5Mb2FuX1N0X0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl80NDY1Qy5BbXJ0X0ZyZXFfQ2Q9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ0NjVDWzBdLkFtcnRfRnJlcV9DZDsNCiAgIH0NCg0KLy8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF80NDY1QiAgDQoNCmlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNDQ2NUIuQ291bnQgPiAwKSAvL21ha2Ugc3VyZSB0aGVyZSBpcyBhdCBsZWFzdCAxIHJlY29yZCBvZiBfNDQ2NUINCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNDQ2NUIuTG9hbl9DYXRfTGRzY19UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl80NDY1QlswXS5Mb2FuX0NhdF9MZHNjX1R4Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl80NDY1Qi5Mb2FuX0VmZHQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNDQ2NUJbMF0uTG9hbl9FZmR0Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl80NDY1Qi5Mb2FuX0R0dGRfRWZkdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl80NDY1QlswXS5Mb2FuX0R0ZGRfRWZkdDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNDQ2NUIuTG9hbl9TZl9JZD0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ0NjVCWzBdLkxvYW5fU2ZfSWQ7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzQ0NjVCLlByaXJfTG9hbl9EdGRkX0F0PSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNDQ2NUJbMF0uUHJpcl9Mb2FuX0R0ZGRfQXQ7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzQ0NjVCLkxvYW5fU3R0bF9BdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl80NDY1QlswXS5Mb2FuX1N0dGxfQXQ7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzQ0NjVCLkxvYW5fRHRkZF9BdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl80NDY1QlswXS5Mb2FuX0R0ZGRfQXQ7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzQ0NjVCLkR0ZGRfT2ZmX1Jzbl9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl80NDY1QlswXS5EdGRkX09mZl9Sc25fVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzQ0NjVCLkR0ZGRfU3RhdF9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl80NDY1QlswXS5EdGRkX1N0YXRfVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzQ0NjVCLkxvYW5fU3RfU2RzY19UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl80NDY1QlswXS5Mb2FuX1N0X1Nkc2NfVHg7DQogICANCiAgIGlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNDQ2NUIuQ291bnQgPiAxKSANCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNDQ2NUIuTG9hbl9DYXRfTGRzY19UeF8xID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ0NjVCWzFdLkxvYW5fQ2F0X0xkc2NfVHg7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzQ0NjVCLkxvYW5fRWZkdF8xID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ0NjVCWzFdLkxvYW5fRWZkdDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNDQ2NUIuTG9hbl9TdHRsX0F0XzEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNDQ2NUJbMV0uTG9hbl9TdHRsX0F0Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl80NDY1Qi5Mb2FuX0R0ZGRfQXRfMSA9IElucHV0XzAuUENTW3JlY29yZHNdLl80NDY1QlsxXS5Mb2FuX0R0ZGRfQXQ7DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzQ0NjVCLkR0ZGRfT2ZmX1Jzbl9UeF8xID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ0NjVCWzFdLkR0ZGRfT2ZmX1Jzbl9UeDsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNDQ2NUIuRHRkZF9TdGF0X1R4XzEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNDQ2NUJbMV0uRHRkZF9TdGF0X1R4Ow0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl80NDY1Qi5Mb2FuX1N0X1Nkc2NfVHhfMSA9IElucHV0XzAuUENTW3JlY29yZHNdLl80NDY1QlsxXS5Mb2FuX1N0X1Nkc2NfVHg7DQogICAgICB9DQogICB9DQoNCi8vLy8vLyoqKioqKioqKioqKl8xODQ2QS8vLy8vLy8vLy8vLy8vLw0KDQppZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzE4NDZBLkNvdW50ID4gMCkgDQogICB7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzE4NDZBLlRlc3QxPUlucHV0XzAuUENTW3JlY29yZHNdLl8xODQ2QVswXS5MbXRfQXQ7DQogICANCiAgIGlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTg0NkEuQ291bnQgPiAxKQ0KICAgICAgew0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8xODQ2QS5UZXN0Mj1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fMTg0NkFbMV0uTG10X0F0Ow0KICAgICAgDQogICAgICB9DQogICB9DQoNCi8vKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfNTM2NEIgIA0KDQppZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjRCLkNvdW50ID4gMCkgLy9tYWtlIHN1cmUgdGhlcmUgaXMgYXQgbGVhc3QgMSByZWNvcmQgb2YgXzQ0NjVCDQogICB7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUzNjRCLkxvYW5fRHRkZF9EZG9tbV9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzY0QlswXS5Mb2FuX0R0ZGRfRGRvbW1fVHg7DQogICANCiAgIH0NCg0KIGZvciAoSW50IEluZGV4NTM2NEEgOyBJbmRleDUzNjRBICA8ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2NEEgLkNvdW50OyBJbmRleDUzNjRBICsrKQ0KICAgew0KICAgT3V0cHV0XzAuUENTLl81MzY0QSAgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjRBW0luZGV4NTM2NEFdOw0KICAgT3V0cHV0XzAuUENTLl81MzY0QS5jb21taXQoKTsNCiAgIH0NCg0KDQoNCi8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF81MjI3QQ0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgIGlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTIyN0EuQ291bnQgPiAwKSAvL21ha2Ugc3VyZSB0aGVyZSBpcyBhdCBsZWFzdCAxIHJlY29yZCBvZiBfNTIyOGENCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTIyN0EuS2l0X1R5cGVfQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTIyN0FbMF0uS2l0X1R5cGVfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUyMjdBLlNlcV9ObWJyX0N0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUyMjdBWzBdLlNlcV9ObWJyX0N0Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MjI3QS5FbV9DbG50X0lkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUyMjdBWzBdLkVtX0NsbnRfSWQ7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUyMjdBLkZvcm1fRGx2cl9Nb2RlX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUyMjdBWzBdLkZvcm1fRGx2cl9Nb2RlX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MjI3QS5Gb3JtX1JwdF9JZCA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTIyN0FbMF0uRm9ybV9ScHRfSWQ7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUyMjdBLlBjc19SZW5fQ2F0X0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUyMjdBWzBdLlBjc19SZW5fQ2F0X0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MjI3QS5DbXBzX0FwcGxfQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTIyN0FbMF0uQ21wc19BcHBsX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MjI3QS5LaXRfSWQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTIyN0FbMF0uS2l0X0lkOw0KICAgDQogICAvLzIwMjUwODI3IC0gVXBkYXRlZCBmb3IgUmVwb3J0DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUyMjdBLlByc25fU29ydF9WbCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MjI3QVswXS5QcnNuX1NvcnRfVmw7DQogICANCiAgIC8vMjAyNTA4MjcgLSBVcGRhdGVkIGZvciBBREYgRmlsZQ0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MjI3QS5LaXRfVmxfU29ydF9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MjI3QVswXS5LaXRfVmxfU29ydF9UeC5sZWZ0KDQpOw0KICAgDQogICB9DQovKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfNTM3MkENCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgICAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKiovDQoNCmlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM3MkEuQ291bnQ+MCkNCiAgICAgICAgew0KICAgICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUzNzJBLkVyaXNhX0FkZHJfMl9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzcyQVswXS5FcmlzYV9BZGRyXzJfVHg7DQogICAgICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUzNzJBLkVyaXNhX0FkZHJfMV9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzcyQVswXS5FcmlzYV9BZGRyXzFfVHg7DQogICAgICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzcyQS5FcmlzYV9QdHlfTm0gPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM3MkFbMF0uRXJpc2FfUHR5X05tOw0KICAgICAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM3MkEuRXJpc2FfQ2l0eV9ObT0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNzJBWzBdLkVyaXNhX0NpdHlfTm07DQogICAgICAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM3MkEuRXJpc2FfU3RfQ2Q9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzcyQVswXS5FcmlzYV9TdF9DZDsNCiAgICAgICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzcyQS5FcmlzYV9aaXBfQ2Q9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzcyQVswXS5FcmlzYV9aaXBfQ2Q7DQogICAgICAgICAgDQogICAgICAgIH0gDQoNCi8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfNTUzMkENCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgICAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICANCiAgIGlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTUzMkEuQ291bnQgPiAwKSAvL21ha2Ugc3VyZSB0aGVyZSBpcyBhdCBsZWFzdCAxIHJlY29yZCBvZiBfNTUzMmENCiAgIHsNCiAgIA0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81NTMyQS5BbXJ0X0ZyZXFfQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTUzMkFbMF0uQW1ydF9GcmVxX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81NTMyQS5TZl9MZHNjX1R4ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzU1MzJBWzBdLlNmX0xkc2NfVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzU1MzJBLkxvYW5fQW1ydF9ScG10X0F0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzU1MzJBWzBdLkxvYW5fQW1ydF9ScG10X0F0Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81NTMyQS5GcnN0X0FtX1JwbXRfRHVlZHQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTUzMkFbMF0uRnJzdF9BbV9ScG10X0R1ZWR0Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81NTMyQS5TY2hkX1JwbXRfUHJldmVmZHQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTUzMkFbMF0uU2NoZF9ScG10X1ByZXZlZmR0Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81NTMyQS5BbXJ0X0ZyZXFfU2RzY19UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81NTMyQVswXS5BbXJ0X0ZyZXFfU2RzY19UeDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTUzMkEuTG9hbl9TZl9JZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81NTMyQVswXS5Mb2FuX1NmX0lkOw0KICAgDQogICB9DQoNCi8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfNzM0OUEgMjAyNTA5MDggLSBVcGRhdGVkIGZvciBBREYgZmlsZQ0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgIA0KICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl83MzQ5QS5Db3VudCA+IDApIC8vbWFrZSBzdXJlIHRoZXJlIGlzIGF0IGxlYXN0IDEgcmVjb3JkIG9mIF81NTMyYQ0KICAgew0KICAgDQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzczNDlBID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzczNDlBWzBdOw0KICAgDQogICB9DQoNCi8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF81MjI4QSANCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgICAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICBTdHJpbmcgcHJpbnRfY29udHJiX2Vhcm5fZmxhZyA9ICJZIjsNCg0KZm9yKEludCBpID0gMDsgaSA8IElucHV0XzAuUENTW3JlY29yZHNdLl81MzgwQS5Db3VudDsgaSsrKQ0KICAgew0KICAgaWYoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzODBBW2ldLlFyeV9Vc2VfQ2QudG9VcHBlckNhc2UoKSA9PSAiVCIpDQogICAgICB7DQogICAgICBmb3IodmFyIGogPSAwOyBqIDwgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzODBBW2ldLkFjY3RiYWxpbmZvX0FyLkNvdW50OyBqKyspDQogICAgICAgICB7DQogICAgICAgICBpZihJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM4MEFbaV0uQWNjdGJhbGluZm9fQXJbal0uQmFsX1ZsX0F0ID09IDApDQogICAgICAgICAgICB7DQogICAgICAgICAgICBwcmludF9jb250cmJfZWFybl9mbGFnID0gIk4iOyANCiAgICAgICAgICAgIH0NCiAgICAgICAgIH0gIA0KICAgICAgfSAgIA0KICAgfQ0KDQoNCg0KaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl81MjI4QS5Db3VudCA+IDApIC8vbWFrZSBzdXJlIHRoZXJlIGlzIGF0IGxlYXN0IDEgcmVjb3JkIG9mIF81MjI4YQ0KICAgew0KICAgDQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUyMjhBLkZvcm1fUnB0X0JybmRfQ2QgPSAgIElucHV0XzAuUENTW3JlY29yZHNdLl81MjI4QVswXS5Gb3JtX1JwdF9Ccm5kX0NkOw0KICAgDQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUyMjhBLkZvcm1fUnB0X0xkc2NfVHggPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTIyOEFbMF0uRm9ybV9ScHRfTGRzY19UeDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTIyOEEuQ3Vycl9EdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MjI4QVswXS5DdXJyX0R0Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MjI4QS5Sa3BnX1Byc25fSWQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTIyOEFbMF0uUmtwZ19QcnNuX0lkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MjI4QS5Fcl9JZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MjI4QVswXS5Fcl9JZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTIyOEEuUmNwbl9QcnNuX0ludG5fSWQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTIyOEFbMF0uUmNwbl9QcnNuX0ludG5fSWQ7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUyMjhBLkRvY19TZXByX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUyMjhBWzBdLkRvY19TZXByX0NkLnRvSW50KCk7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUyMjhBLlBja2dfTWFpbF9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MjI4QVswXS5QY2tnX01haWxfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUyMjhBLkVuY2xfQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTIyOEFbMF0uRW5jbF9DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTIyOEEuQXNtYl9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MjI4QVswXS5Bc21iX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MjI4QS5TdGtfU2l6ZV9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MjI4QVswXS5TdGtfU2l6ZV9DZC50b0ludCgpOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MjI4QS5SdHJuX0FkZHJfS2V5X0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUyMjhBWzBdLlJ0cm5fQWRkcl9LZXlfQ2QudG9JbnQoKTsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTIyOEEuTXNnX0tleV9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MjI4QVswXS5Nc2dfS2V5X0NkLnRvSW50KCk7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUyMjhBLk10Y2hfSW5fQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTIyOEFbMF0uTXRjaF9Jbl9DZC50b0ludCgpOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MjI4QS5BY3RfSWQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTIyOEFbMF0uQWN0X0lkOw0KICAgDQogICAvLzIwMjUwODI3IC0gVXBkYXRlZCBmb3IgUmVwb3J0DQogICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTIyOEEuQWN0X1JlZl9ObWJyX0lkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUyMjhBWzBdLkFjdF9SZWZfTm1icl9JZDsNCiAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MjI4QS5Sa3BnX1Byc25fSW50bl9JZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MjI4QVswXS5Sa3BnX1Byc25fSW50bl9JZDsNCiAgICAgDQogICAgIC8vMjAyNTA5MDggLSBVcGRhdGVkIGZvciBBREYgZmlsZQ0KICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUyMjhBLlNvcnRfTm0gID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUyMjhBWzBdLlNvcnRfTm07DQogICANCiAgIH0NCi8qIElmIF8wODMxQS5QbGFuX0JybmRfQ2QgZXF1YWxzICJEQy1RTEZZIg0KICAgYW5kIF81MzY0QS5DdHJiX0Vhcm5fRHNwbF9DZA0KICAgYW5kIF81MzY0QS5DcnNzX1BsYW5fRHNwbF9DZA0KICAgYW5kIChnZXQzNjgzQnJhbmRlZFNlbGVjdGlvblZhcmlhYmxlVmFsdWUoIkNUUkItRUFSTi0xMDAiKSBlcXVhbHMgaWdub3JlIGNhc2UgIlkiDQogICBvciAoZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZVZhbHVlKCJDVFJCLUVBUk4tMTAwIikgZXF1YWxzIGlnbm9yZSBjYXNlICJOIg0KICAgYW5kIHByaW50X2NvbnRyYl9lYXJuX2ZsYWcgZXF1YWxzICJZIikpDQogICBhbmQgKF83NDI0QS5sZW5ndGggaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDMNCiAgIGFuZCBfNzQyNEEubGVuZ3RoIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byA1KQ0KICAgYW5kIGRjMzA1NEFbMF0uTG9hbl9BdCBlcXVhbHMgMA0KICAgDQogICAqLw0KICAgDQogICBpZiAoDQogICAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzA4MzFBLkNvdW50ID4wKQ0KICAgYW5kIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMDgzMUFbMF0uUGxhbl9Ccm5kX0NkID09ICJEQy1RTEZZIikNCiAgIGFuZCAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjRBLkNvdW50ID4gMCkNCiAgIGFuZCBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2NEFbMF0uQ3RyYl9FYXJuX0RzcGxfQ2QNCiAgIGFuZCBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2NEFbMF0uQ3Jzc19QbGFuX0RzcGxfQ2QNCiAgIGFuZCAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzMwNTRBLkNvdW50ID4wKQ0KICAgYW5kIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQyNEEuQ291bnQgPj0gMykNCiAgIGFuZCAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0MjRBLkNvdW50IDw9IDUpDQogICBhbmQgKElucHV0XzAuUENTW3JlY29yZHNdLl8zMDU0QVswXS5Mb2FuX0F0ID09ICAwLjApDQogICBhbmQgKChnZXQzNjgzQnJhbmRlZFNlbGVjdGlvblZhcmlhYmxlVmFsdWUocmVjb3JkcywgIkNUUkItRUFSTi0xMDAiKS50b1VwcGVyQ2FzZSgpID09ICJZIikNCiAgIG9yICgoZ2V0MzY4M0JyYW5kZWRTZWxlY3Rpb25WYXJpYWJsZVZhbHVlKHJlY29yZHMsICJDVFJCLUVBUk4tMTAwIikudG9VcHBlckNhc2UoKSA9PSAiTiIpDQogICBhbmQgKHByaW50X2NvbnRyYl9lYXJuX2ZsYWcgPT0gIlkiKSkpIA0KICAgKQ0KICAgDQogICANCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5DbG9zaW5nQmFsYW5jZUZsYWcgPSB0cnVlOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl8zMDU0QS5DYl9Na3RfVmxfQXQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fMzA1NEFbMF0uQ2JfTWt0X1ZsX0F0LnRvU3RyaW5nKDIsMiwiLCIsIi4iKTsNCiAgIH0NCg0KLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzUzNjRBIA0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgICoqKioqKioqKioqKioqKioqKioqKi8NCiAgIGlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2NEEuQ291bnQgPjApDQogICB7IA0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzY0QS5DcnNzX1BsYW5fRHNwbF9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzY0QVswXS5DcnNzX1BsYW5fRHNwbF9DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM2NEEuRm5jbF9BZHZjX1BydmRfQ2QgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2NEFbMF0uRm5jbF9BZHZjX1BydmRfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUzNjRBLkFkZF9Pbl9GZWUgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2NEFbMF0uQWRkX09uX0ZlZTsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM2NEEuWW91cl9CYWxfRHNwbF9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzY0QVswXS5Zb3VyX0JhbF9Ec3BsX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzY0QS5CZW5lX0ZyY19PdXRfQ2Q9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzY0QVswXS5CZW5lX0ZyY19PdXRfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUzNjRBLkZyY19PdXRfTG10X0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjRBWzBdLkZyY19PdXRfTG10X0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzY0QS5QbGFuX0ZvX0NkPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2NEFbMF0uUGxhbl9Gb19DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM2NEEuRXJfQWNwdF9DaGtfQ2Q9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzY0QVswXS5Fcl9BY3B0X0Noa19DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM2NEEuTnJtbF9Gb3JtX1BtdF9UeD0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjRBWzBdLk5ybWxfRm9ybV9QbXRfVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUzNjRBLkhkc3BfVGF4X0dydXBfQ2Q9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzY0QVswXS5IZHNwX1RheF9HcnVwX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzY0QS5DYWxjX0luc2xfQ2Q9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzY0QVswXS5DYWxjX0luc2xfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUzNjRBLkpudF9TcHNfRXhjcF9DZD0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjRBWzBdLkpudF9TcHNfRXhjcF9DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM2NEEuUm90aF9BbHdkX0NkPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2NEFbMF0uUm90aF9BbHdkX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzY0QS5GaXhfSW5zbF9DZD0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjRBWzBdLkZpeF9JbnNsX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzY0QS5Mc3VtX0RzdHJfQ2Q9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzY0QVswXS5Mc3VtX0RzdHJfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUzNjRBLlBydGxfRHN0cl9DZD0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjRBWzBdLlBydGxfRHN0cl9DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM2NEEuRHNibF9WZXN0X0NkPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2NEFbMF0uRHNibF9WZXN0X0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzY0QS5Ob25fSGRzcF9XdGhkX0NkPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2NEFbMF0uTm9uX0hkc3BfV3RoZF9DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM2NEEuUG10X0Rmcl9UeF9DZD0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjRBWzBdLlBtdF9EZnJfVHhfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUzNjRBLlB0aHJ1X0Fsd2RfQ2Q9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzY0QVswXS5QdGhydV9BbHdkX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzY0QS5QbGFuX1N0a19DZD0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjRBWzBdLlBsYW5fU3RrX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzY0QS5IZHNwX1d0aGRfQ2Q9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzY0QVswXS5IZHNwX1d0aGRfQ2Q7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUzNjRBLlBtdF9EdGRwX1RtbmdfVHg9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzY0QVswXS5QbXRfRHRkcF9UbW5nX1R4Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzY0QS5QbXRfR3Jzc19Ec3RyX1R4PSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2NEFbMF0uUG10X0dyc3NfRHN0cl9UeDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM2NEEuUG10X0xvYW5fU3R0bF9UeD0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjRBWzBdLlBtdF9Mb2FuX1N0dGxfVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzUzNjRBLlBtdF9HcnNzX0Nhc2hfVHggPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2NEFbMF0uUG10X0dyc3NfQ2FzaF9UeDsgIA0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81MzY0QS5MbnJwX0R1ZV9UbW5nX1R4ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjRBWzBdLkxucnBfRHVlX1RtbmdfVHg7DQogICB9DQoNCi8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF81MzgwQSANCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgICAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICANCiAgIGZvciAoSW50IEluZGV4NTM4MEEgOyBJbmRleDUzODBBICA8ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM4MEEuQ291bnQ7IEluZGV4NTM4MEErKykNCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5fNTM4MEEgID0gIElucHV0XzAuUENTW3JlY29yZHNdLl81MzgwQVtJbmRleDUzODBBXTsNCiAgIGZvciAoSW50IEluZGV4QWNjIDsgSW5kZXhBY2MgIDwgIElucHV0XzAuUENTW3JlY29yZHNdLl81MzgwQVtJbmRleDUzODBBXS5BY2N0YmFsaW5mb19Bci5Db3VudDsgSW5kZXhBY2MrKykNCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5fNTM4MEEuQWNjdGJhbGluZm9fQXIgID0gIElucHV0XzAuUENTW3JlY29yZHNdLl81MzgwQVtJbmRleDUzODBBXS5BY2N0YmFsaW5mb19BcltJbmRleEFjY107DQogICAgICBPdXRwdXRfMC5QQ1MuXzUzODBBLkFjY3RiYWxpbmZvX0FyLmNvbW1pdCgpOw0KICAgICAgfQ0KICAgT3V0cHV0XzAuUENTLl81MzgwQS5jb21taXQoKTsNCiAgIH0NCg0KDQovKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF81ODkyQQ0KICAgLyoqKioqKioqKioqKioqKioqKioqLyAgICAgIA0KICAgDQogICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzU4OTJBLkNvdW50ID4gMCkgLy9tYWtlIHN1cmUgdGhlcmUgaXMgYXQgbGVhc3QgMSByZWNvcmQgb2YgXzU4OTJBDQogICB7DQogICANCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTg5MkEuRml4X0NhbGNfSW5zbF9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81ODkyQVswXS5GaXhfQ2FsY19JbnNsX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81ODkyQS5GcnN0X1BtdF9EdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81ODkyQVswXS5GcnN0X1BtdF9EdDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTg5MkEuSW5zbF9GcmVxX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzU4OTJBWzBdLkluc2xfRnJlcV9DZDsNCiAgIA0KICAgfQ0KDQovKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF81ODkyQg0KICAgLyoqKioqKioqKioqKioqKioqKioqLyAgICAgIA0KICAgDQogICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzU4OTJCLkNvdW50ID4gMCkgLy9tYWtlIHN1cmUgdGhlcmUgaXMgYXQgbGVhc3QgMSByZWNvcmQgb2YgXzU4OTJCDQogICB7DQogICANCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTg5MkIuVHJnbl9BY3RfQnJuZF9DZCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81ODkyQlswXS5UcmduX0FjdF9Ccm5kX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81ODkyQi5JbnNsbGVmX010aGRzZHNjdHggPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTg5MkJbMF0uSW5zbGxlZl9NdGhkc2RzY3R4Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81ODkyQi5JbnNsX0xpZmVfRXhwY19GYyA9IElucHV0XzAuUENTW3JlY29yZHNdLl81ODkyQlswXS5JbnNsX0xpZmVfRXhwY19GYzsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTg5MkIuSW5zbF9GcmVxX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzU4OTJCWzBdLkluc2xfRnJlcV9DZDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTg5MkIuRHBsdF9WbF9BdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81ODkyQlswXS5EcGx0X1ZsX0F0Ow0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl81ODkyQi5JbnNsX0luc3RfRWZkdCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81ODkyQlswXS5JbnNsX0luc3RfRWZkdDsNCiAgIH0NCg0KLyoqKioqKioqKioqKioqKioqKg0KICAgKioqKioqKioqKioqKioqKioqKiAgICAgIF81ODkyQiBBcnJheQ0KICAgKioqKioqKioqKioqKioqKioqKi8gDQogICANCiAgIGZvciAoSW50IEluZGV4NTg5MkIgOyBJbmRleDU4OTJCICA8ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTg5MkIgLkNvdW50OyBJbmRleDU4OTJCICsrKQ0KICAgew0KICAgT3V0cHV0XzAuUENTLl81ODkyQiAgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzU4OTJCW0luZGV4NTg5MkJdOw0KICAgT3V0cHV0XzAuUENTLl81ODkyQi5jb21taXQoKTsNCiAgIH0NCg0KICAgDQoNCg0KDQovKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfNjY5M0EgDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICAgICANCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgDQogICANCiAgIGlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNjY5M0EuQ291bnQgPjApDQogICB7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzY2OTNBLk5vbl9FbmdoX01zZ18xX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzY2OTNBWzBdLk5vbl9FbmdoX01zZ18xX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl82NjkzQS5Ob25fRW5naF9IZHJfMV9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl82NjkzQVswXS5Ob25fRW5naF9IZHJfMV9UeDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNjY5M0EuTm9uX0VuZ2hfTXNnXzFfVHggPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNjY5M0FbMF0uTm9uX0VuZ2hfTXNnXzFfVHg7DQogICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzY2OTNBLk5vbl9FbmdoX01zZ18yX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzY2OTNBWzBdLk5vbl9FbmdoX01zZ18yX0NkOw0KICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl82NjkzQS5Ob25fRW5naF9IZHJfMl9UeCA9IElucHV0XzAuUENTW3JlY29yZHNdLl82NjkzQVswXS5Ob25fRW5naF9IZHJfMl9UeDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNjY5M0EuTm9uX0VuZ2hfTXNnXzJfVHggPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNjY5M0FbMF0uTm9uX0VuZ2hfTXNnXzJfVHg7DQogICAvL091dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNjY5M0EuTm9uX0VuZ2hfSGRyXzFfVHggPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNjY5M0FbMF0uTm9uX0VuZ2hfSGRyXzFfVHg7DQogICB9DQoNCg0KDQoNCi8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgIF83MjQyQSANCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgICAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICANCiAgIGZvciAoSW50IF83NDI0SW5kZXg7IF83NDI0SW5kZXggPCBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQyNEEuQ291bnQ7IF83NDI0SW5kZXgrKykNCiAgIHsNCiAgIA0KICAgaWYgKF83NDI0SW5kZXggPT0gMCkNCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNzQyNEEuUXJfVGlwX0NkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0MjRBWzBdLlFyX1RpcF9DZDsNCiAgICAgIC8vQ1IuRmlyc3RPZlRyZWUuXzc0MjRBLlFyX1RpcF9DZC5MZW5ndGggPiAwDQogICAgICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0MjRBWzBdLlFyX1RpcF9DZC5MZW5ndGggPT0gMCkNCiAgICAgICAgIHsNCiAgICAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNzQyNEEuT2ZmU2V0V2hlbk5vUVIgID0gIC0wLjgwOyAgIC8vd2hlbiBubyBiYXJvY2RlLCBwaWUgY2hhcnQgZmxvYXRzIHVwIHRoaXMgZGlzdGFuY2UgaW4gaW5jaGVzDQogICAgICAgICB9DQogICAgICBPdXRwdXRfMC5QQ1MuRmlyc3RPZlRyZWUuXzc0MjRBLkVmZHQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQyNEFbMF0uRWZkdDsgDQogICAgICANCiAgICAgIC8vU2NyaXB0IHRvIHB1dCB0b3RhbCB0byBnbG9iYWwgdmFyaWFibGUgc28gaXQgY2FuIGJlIHVzZWQgaW4gc2hhcmVkIGNvbnRlbnQuDQogICAgICBEb3VibGUgdG90YWw7DQogICAgICBJbnQgY291bnRlcjsNCiAgICAgIA0KICAgICAgZm9yKEludCBpID0gMDsgaSA8IElucHV0XzAuUENTW3JlY29yZHNdLl83NDI0QS5Db3VudDsgaSsrKQ0KICAgICAgICAgew0KICAgICAgICAgaWYoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0MjRBW2ldLlBsYW5fUnB0X1NxID09IDk5OTkpDQogICAgICAgICAgICB7DQogICAgICAgICAgICB0b3RhbCArPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQyNEFbaV0uQmFsX1ZsX0F0Ow0KICAgICAgICAgICAgY291bnRlcisrOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgfQ0KICAgICAgT3V0cHV0XzAuUENTLkZpcnN0T2ZUcmVlLl83NDI0QS5QaWVDaGFydFRvdGFsID0gdG90YWw7DQogICAgICANCiAgICAgIA0KICAgICAgaWYgKChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQyNEEuQ291bnQgLSAgY291bnRlcikgID4gMSkNCiAgICAgICAgIHsNCiAgICAgICAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNzQyNEEuUGllQ2hhcnRGb290Tm90ZSA9IHRydWU7DQogICAgICAgICB9DQogICAgICB9DQogICBpZiAoXzc0MjRJbmRleCA8IChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQyNEEuQ291bnQgLTEpKSAgLy8gZG8gbm90IGFkZCB0b3RhbCByZWNvcmQgdG8gYXJyYXkNCiAgICAgIHsNCiAgICAgIE91dHB1dF8wLlBDUy5fNzQyNEEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQyNEFbXzc0MjRJbmRleF0gOw0KICAgICAgT3V0cHV0XzAuUENTLl83NDI0QS5jb21taXQoKTsNCiAgICAgIH0NCiAgIH0NCg0KDQovKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqICAgICAgICAgXzczNDJBIEFycmF5DQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICAgICANCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgDQogICBmb3IgKEludCBJbmRleDczNDJBIDsgSW5kZXg3MzQyQSAgPCAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzczNDJBIC5Db3VudDsgSW5kZXg3MzQyQSArKykNCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5fNzM0MkEgID0gIElucHV0XzAuUENTW3JlY29yZHNdLl83MzQyQVtJbmRleDczNDJBXTsNCiAgIE91dHB1dF8wLlBDUy5fNzM0MkEuY29tbWl0KCk7DQogICB9DQoNCg0KDQovKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfNzM0MkENCiAgIC8qKioqKioqKioqKioqKioqKioqKiAgICAgICAgICAgIA0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKiovDQogICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzczNDJBLkNvdW50ID4gMCkgLy9tYWtlIHN1cmUgdGhlcmUgaXMgYXQgbGVhc3QgMSByZWNvcmQgb2YgXzUyMjhhDQogICB7DQogICANCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNzM0MkEuR25yY19MZHNjX1R4ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzczNDJBWzBdLkducmNfTGRzY19UeDsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNzM0MkEuQmFsX1ZsX0F0ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzczNDJBWzBdLkJhbF9WbF9BdDsNCiAgIH0NCg0KDQovKioqKioqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKioqKioqDQogICAqKioqKioqKioqKioqKioqKioqKioqKioqDQogICBSYXRlcyBvZiBSZXR1cm5zIFRhYmxlDQogICAqKioqKioqKioqKioqKioqKioqKioqKioqLw0KICAgDQogICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCLkNvdW50ID4wKQ0KICAgew0KICAgDQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5jb21taXQoKTsNCiAgIC8vcm93MQ0KICAgDQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheS5Db2wxID0gIkZ1bmQgTmFtZSI7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheS5Db2wyID0gIllURCI7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheS5Db2wzID0gIjEtWWVhciI7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheS5Db2w0ID0gIjMtWWVhciI7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheS5Db2w1ID0gIjUtWWVhciI7DQogICANCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LmNvbW1pdCgpOw0KICAgDQogICAvL3JvdzINCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19BclswXS5GdW5kX0xkc2NfVHggOzsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDIgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMF0uQ3VtX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDMgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMF0uQXZnX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDQgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMF0uQXZnX1Jvcl9QdF8zKTs7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheS5Db2w1ID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzBdLkF2Z19Sb3JfUHRfNSk7DQogICANCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LmNvbW1pdCgpOw0KICAgDQogICAvL3JvdzMNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19BclsxXS5GdW5kX0xkc2NfVHggOzsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDIgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMV0uQ3VtX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDMgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMV0uQXZnX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDQgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMV0uQXZnX1Jvcl9QdF8zKTs7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheS5Db2w1ID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzFdLkF2Z19Sb3JfUHRfNSk7DQogICANCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LmNvbW1pdCgpOw0KICAgDQogICAvL3JvdzQNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19BclsyXS5GdW5kX0xkc2NfVHggOzsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDIgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMl0uQ3VtX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDMgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMl0uQXZnX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDQgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMl0uQXZnX1Jvcl9QdF8zKTs7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheS5Db2w1ID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzJdLkF2Z19Sb3JfUHRfNSk7DQogICANCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LmNvbW1pdCgpOw0KICAgDQogICAvL3JvdzUNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19BclszXS5GdW5kX0xkc2NfVHggOzsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDIgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbM10uQ3VtX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDMgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbM10uQXZnX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDQgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbM10uQXZnX1Jvcl9QdF8zKTs7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheS5Db2w1ID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzNdLkF2Z19Sb3JfUHRfNSk7DQogICANCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LmNvbW1pdCgpOw0KICAgDQogICAvL3JvdzYNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19Bcls0XS5GdW5kX0xkc2NfVHggOzsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDIgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbNF0uQ3VtX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDMgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbNF0uQXZnX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDQgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbNF0uQXZnX1Jvcl9QdF8zKTs7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheS5Db2w1ID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzRdLkF2Z19Sb3JfUHRfNSk7DQogICANCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LmNvbW1pdCgpOw0KICAgDQogICAvL3JvdzcNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19Bcls1XS5GdW5kX0xkc2NfVHggOzsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDIgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbNV0uQ3VtX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDMgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbNV0uQXZnX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDQgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbNV0uQXZnX1Jvcl9QdF8zKTs7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheS5Db2w1ID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzVdLkF2Z19Sb3JfUHRfNSk7DQogICANCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LmNvbW1pdCgpOw0KICAgDQogICAvL3JvdzgNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19Bcls2XS5GdW5kX0xkc2NfVHggOzsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDIgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbNl0uQ3VtX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDMgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbNl0uQXZnX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDQgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbNl0uQXZnX1Jvcl9QdF8zKTs7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheS5Db2w1ID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzZdLkF2Z19Sb3JfUHRfNSk7DQogICANCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LmNvbW1pdCgpOw0KICAgDQogICAvL3JvdzkNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19Bcls3XS5GdW5kX0xkc2NfVHggOzsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDIgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbN10uQ3VtX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDMgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbN10uQXZnX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LkNvbDQgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbN10uQXZnX1Jvcl9QdF8zKTs7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheS5Db2w1ID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzddLkF2Z19Sb3JfUHRfNSk7DQogICANCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5LmNvbW1pdCgpOw0KICAgDQogICB9DQoNCg0KLy8gUmF0ZSBvZiBSZXR1cm4gVGFibGUgDQoNCmlmIChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUIuQ291bnQgPjApDQogICB7DQogICANCiAgIC8vT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uY29tbWl0KCk7DQogICAvL3JvdzENCiAgIA0KICAgT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uRGV0YWlsQXJyYXkxLkNvbDEgPSAiRnVuZCBOYW1lIjsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5Db2wyID0gIllURCI7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuQ29sMyA9ICIxLVllYXIiOw0KICAgT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uRGV0YWlsQXJyYXkxLkNvbDQgPSAiMy1ZZWFyIjsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5Db2w1ID0gIjUtWWVhciI7DQogICANCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5jb21taXQoKTsNCiAgIA0KICAgLy9yb3cyDQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuQ29sMSA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzhdLkZ1bmRfTGRzY19UeCA7Ow0KICAgT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uRGV0YWlsQXJyYXkxLkNvbDIgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbOF0uQ3VtX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5Db2wzID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzhdLkF2Z19Sb3JfUHRfMSk7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuQ29sNCA9IGdldEFtb3VudGZvcm1hdHRlZChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19Bcls4XS5BdmdfUm9yX1B0XzMpOzsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5Db2w1ID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzhdLkF2Z19Sb3JfUHRfNSk7DQogICANCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5jb21taXQoKTsNCiAgIA0KICAgLy9yb3czDQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuQ29sMSA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzldLkZ1bmRfTGRzY19UeCA7Ow0KICAgT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uRGV0YWlsQXJyYXkxLkNvbDIgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbOV0uQ3VtX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5Db2wzID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzldLkF2Z19Sb3JfUHRfMSk7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuQ29sNCA9IGdldEFtb3VudGZvcm1hdHRlZChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19Bcls5XS5BdmdfUm9yX1B0XzMpOzsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5Db2w1ID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzldLkF2Z19Sb3JfUHRfNSk7DQogICANCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5jb21taXQoKTsNCiAgIA0KICAgLy9yb3c0DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuQ29sMSA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzEwXS5GdW5kX0xkc2NfVHggOzsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5Db2wyID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzEwXS5DdW1fUm9yX1B0XzEpOw0KICAgT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uRGV0YWlsQXJyYXkxLkNvbDMgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMTBdLkF2Z19Sb3JfUHRfMSk7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuQ29sNCA9IGdldEFtb3VudGZvcm1hdHRlZChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19BclsxMF0uQXZnX1Jvcl9QdF8zKTs7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuQ29sNSA9IGdldEFtb3VudGZvcm1hdHRlZChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19BclsxMF0uQXZnX1Jvcl9QdF81KTsNCiAgIA0KICAgT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uRGV0YWlsQXJyYXkxLmNvbW1pdCgpOw0KICAgDQogICAvL3JvdzUNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5Db2wxID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMTFdLkZ1bmRfTGRzY19UeCA7Ow0KICAgT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uRGV0YWlsQXJyYXkxLkNvbDIgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMTFdLkN1bV9Sb3JfUHRfMSk7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuQ29sMyA9IGdldEFtb3VudGZvcm1hdHRlZChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19BclsxMV0uQXZnX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5Db2w0ID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzExXS5BdmdfUm9yX1B0XzMpOzsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5Db2w1ID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzExXS5BdmdfUm9yX1B0XzUpOw0KICAgDQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuY29tbWl0KCk7DQogICANCiAgIC8vcm93Ng0KICAgT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uRGV0YWlsQXJyYXkxLkNvbDEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19BclsxMl0uRnVuZF9MZHNjX1R4IDs7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuQ29sMiA9IGdldEFtb3VudGZvcm1hdHRlZChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19BclsxMl0uQ3VtX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5Db2wzID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzEyXS5BdmdfUm9yX1B0XzEpOw0KICAgT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uRGV0YWlsQXJyYXkxLkNvbDQgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMTJdLkF2Z19Sb3JfUHRfMyk7Ow0KICAgT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uRGV0YWlsQXJyYXkxLkNvbDUgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMTJdLkF2Z19Sb3JfUHRfNSk7DQogICANCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5jb21taXQoKTsNCiAgIA0KICAgLy9yb3c3DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuQ29sMSA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzEzXS5GdW5kX0xkc2NfVHggOzsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5Db2wyID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzEzXS5DdW1fUm9yX1B0XzEpOw0KICAgT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uRGV0YWlsQXJyYXkxLkNvbDMgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMTNdLkF2Z19Sb3JfUHRfMSk7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuQ29sNCA9IGdldEFtb3VudGZvcm1hdHRlZChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19BclsxM10uQXZnX1Jvcl9QdF8zKTs7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuQ29sNSA9IGdldEFtb3VudGZvcm1hdHRlZChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19BclsxM10uQXZnX1Jvcl9QdF81KTsNCiAgIA0KICAgT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uRGV0YWlsQXJyYXkxLmNvbW1pdCgpOw0KICAgDQogICAvL3JvdzgNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5Db2wxID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMTRdLkZ1bmRfTGRzY19UeCA7Ow0KICAgT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uRGV0YWlsQXJyYXkxLkNvbDIgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMTRdLkN1bV9Sb3JfUHRfMSk7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuQ29sMyA9IGdldEFtb3VudGZvcm1hdHRlZChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19BclsxNF0uQXZnX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5Db2w0ID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzE0XS5BdmdfUm9yX1B0XzMpOzsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5Db2w1ID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzE0XS5BdmdfUm9yX1B0XzUpOw0KICAgDQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuY29tbWl0KCk7DQogICANCiAgIC8vcm93OQ0KICAgT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uRGV0YWlsQXJyYXkxLkNvbDEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19BclsxNV0uRnVuZF9MZHNjX1R4IDs7DQogICBPdXRwdXRfMC5QQ1MuUmF0ZXNvZlJldHVybi5EZXRhaWxBcnJheTEuQ29sMiA9IGdldEFtb3VudGZvcm1hdHRlZChJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM2MUJbMF0uRnVuZGRlc2Nkc3BsaW5mb19BclsxNV0uQ3VtX1Jvcl9QdF8xKTsNCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5Db2wzID0gZ2V0QW1vdW50Zm9ybWF0dGVkKElucHV0XzAuUENTW3JlY29yZHNdLl81MzYxQlswXS5GdW5kZGVzY2RzcGxpbmZvX0FyWzE1XS5BdmdfUm9yX1B0XzEpOw0KICAgT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uRGV0YWlsQXJyYXkxLkNvbDQgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMTVdLkF2Z19Sb3JfUHRfMyk7Ow0KICAgT3V0cHV0XzAuUENTLlJhdGVzb2ZSZXR1cm4uRGV0YWlsQXJyYXkxLkNvbDUgPSBnZXRBbW91bnRmb3JtYXR0ZWQoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzNjFCWzBdLkZ1bmRkZXNjZHNwbGluZm9fQXJbMTVdLkF2Z19Sb3JfUHRfNSk7DQogICANCiAgIE91dHB1dF8wLlBDUy5SYXRlc29mUmV0dXJuLkRldGFpbEFycmF5MS5jb21taXQoKTsNCiAgIA0KICAgfQ0KDQoNCg0KDQoNCg0KDQovLyoqKioqKioqKioqKiogDQovL0FjdGl2aXR5IEJ5IEZ1bmQgRGV0YWlscw0KQm9vbCBpc1R3b0NvbHVtbm4gPWZhbHNlOw0KaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQS5Db3VudCA+IDApDQogICB7DQogICBmb3IgKEludCBJbmRleDc0NjFBOyBJbmRleDc0NjFBIDwgIElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQS5Db3VudDsgSW5kZXg3NDYxQSsrKQ0KICAgICAgew0KICAgICAgDQogICAgICBJbnQgZnVuZER0bENudCA9IElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9Bci5Db3VudDsNCiAgICAgIA0KICAgICAgaWYoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk5ld19UYmxfQ2Q9PXRydWUpDQogICAgICAgICB7DQogICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LmNvbW1pdCgpOw0KICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5OZXdUYmxGbGFnID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk5ld19UYmxfQ2Q7DQogICAgICAgICANCiAgICAgICAgICBpc1R3b0NvbHVtbm49ZmFsc2U7DQogICAgICAgICANCiAgICAgICAgIA0KICAgICAgICAgaWYgKGZ1bmREdGxDbnQgPT0gMSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgIC8vRmlyc3QgSGVhZGVyDQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wxID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLkVmYmVnZHQudG9TdHJpbmcoIk1NLWRkLXl5eXkiLCJlbiIpKyAnIHRvICcgKyANCiAgICAgICAgICAgICAgIElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5FZmVuZGR0LnRvU3RyaW5nKCJNTS1kZC15eXl5IiwiZW4iKTsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDI9IkFzc2V0IENsYXNzIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDM9IiI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w0PSIiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sNT0iIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuS2V5PSJIRFIxIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuY29tbWl0KCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vU2Vjb25kIEhlYWRlcg0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMSA9ICIiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMj1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMF0uQXN0X0Nsc19MZHNjX1R4Ow0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMz0iIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDQ9IiI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w1PSIiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5LZXk9IkhEUjIiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5jb21taXQoKTsgDQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vVGhpcmQgSGVhZGVyDQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wxID0gIkZ1bmQgTmFtZSI7DQogICAgICAgICAgICBpZiggSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzBdLkZ1bmRfSWQ9PTk5OTkpDQogICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wyPSJBbGwgRnVuZHMgVG90YWwiOw0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMj1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMF0uRnVuZF9TZHNjX1R4Ow0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wzPSIiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sND0iIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDU9IiI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLktleT0iSERSMyI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLmNvbW1pdCgpOyANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy9EZXRhaWwgUm93DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wxID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhwb3N0dHlwZXNkc2N0eDsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDI9IiQiK0lucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclswXS5CYWxfVmxfQXQudG9TdHJpbmcoMiwyLCIsIiwiLiIpOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMz0iIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDQ9IiI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w1PSIiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5LZXk9IkRUTCI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLmNvbW1pdCgpOyANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgfQ0KICAgICAgICAgaWYgKGZ1bmREdGxDbnQgPT0gMikNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy9GaXJzdCBIZWFkZXINCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uRWZiZWdkdC50b1N0cmluZygiTU0tZGQteXl5eSIsImVuIikrICcgdG8gJyArIA0KICAgICAgICAgICAgICAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLkVmZW5kZHQudG9TdHJpbmcoIk1NLWRkLXl5eXkiLCJlbiIpOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMj0iQXNzZXQgQ2xhc3MiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMz0iIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDQ9IiI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w1PSIiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5LZXk9IkhEUjEiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5jb21taXQoKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy9TZWNvbmQgSGVhZGVyDQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wxID0gIiI7DQogICAgICAgICAgICBpZiggSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzBdLkZ1bmRfSWQ9PTk5OTkpDQogICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDI9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzFdLkFzdF9DbHNfTGRzY19UeDsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDM9IiI7IA0KICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICB9IA0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMj1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMF0uQXN0X0Nsc19MZHNjX1R4Ow0KICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMz1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMV0uQXN0X0Nsc19MZHNjX1R4OzsNCiAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w0PSIiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sNT0iIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuS2V5PSJIRFIyIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuY29tbWl0KCk7ICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vVGhpcmQgSGVhZGVyDQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wxID0gIkZ1bmQgTmFtZSI7DQogICAgICAgICAgICBpZiggSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzBdLkZ1bmRfSWQ9PTk5OTkpDQogICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wyPUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclsxXS5GdW5kX1Nkc2NfVHg7DQogICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wzPSIiOw0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgaXNUd29Db2x1bW5uPXRydWU7DQogICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wyPUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclswXS5GdW5kX1Nkc2NfVHg7DQogICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wzPUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclsxXS5GdW5kX1Nkc2NfVHg7DQogICAgICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgDQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w0PSIiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sNT0iIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuS2V5PSJIRFIzIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuY29tbWl0KCk7ICANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgDQogICAgICAgICAgICAvL0RldGFpbCBSb3cNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeHBvc3R0eXBlc2RzY3R4Ow0KICAgICAgICAgICAgaWYoIGlzVHdvQ29sdW1ubj09dHJ1ZSkNCiAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDI9IiQiK0lucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclswXS5CYWxfVmxfQXQudG9TdHJpbmcoMiwyLCIsIiwiLiIpOw0KICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMz0iJCIrSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzFdLkJhbF9WbF9BdC50b1N0cmluZygyLDIsIiwiLCIuIik7DQogICAgICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMj0iJCIrSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzFdLkJhbF9WbF9BdC50b1N0cmluZygyLDIsIiwiLCIuIik7DQogICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMz0iIjsNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sND0iIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDU9IiI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLktleT0iRFRMIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuY29tbWl0KCk7IA0KICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIH0NCiAgICAgICAgIGlmIChmdW5kRHRsQ250ID09IDMpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAvL0ZpcnN0IEhlYWRlcg0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMSA9IElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5FZmJlZ2R0LnRvU3RyaW5nKCJNTS1kZC15eXl5IiwiZW4iKSsgJyB0byAnICsgDQogICAgICAgICAgICAgICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uRWZlbmRkdC50b1N0cmluZygiTU0tZGQteXl5eSIsImVuIik7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wyPSIiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMz0iQXNzZXQgQ2xhc3MiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sND0iIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDU9IiI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLktleT0iSERSMSI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLmNvbW1pdCgpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvL1NlY29uZCBIZWFkZXINCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDEgPSAiIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDI9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzBdLkFzdF9DbHNfTGRzY19UeDsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDM9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzFdLkFzdF9DbHNfTGRzY19UeDsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDQ9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzJdLkFzdF9DbHNfTGRzY19UeDsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDU9IiI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLktleT0iSERSMiI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLmNvbW1pdCgpOyANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy9UaGlyZCBIZWFkZXINCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDEgPSAiRnVuZCBOYW1lIjsNCiAgICAgICAgICAgIGlmKCBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMF0uRnVuZF9JZD09OTk5OSkNCiAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDI9IkFsbCBGdW5kcyBUb3RhbCI7DQogICAgICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wyPUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclswXS5GdW5kX1Nkc2NfVHg7DQogICAgICAgICAgICAgICB9DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wzPUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclsxXS5GdW5kX1Nkc2NfVHg7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w0PUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclsyXS5GdW5kX1Nkc2NfVHg7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w1PSIiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5LZXk9IkhEUjMiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5jb21taXQoKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy9EZXRhaWwgUm93DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wxID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhwb3N0dHlwZXNkc2N0eDsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDI9IiQiK0lucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclswXS5CYWxfVmxfQXQudG9TdHJpbmcoMiwyLCIsIiwiLiIpOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMz0iJCIrSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzFdLkJhbF9WbF9BdC50b1N0cmluZygyLDIsIiwiLCIuIik7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w0PSIkIitJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMl0uQmFsX1ZsX0F0LnRvU3RyaW5nKDIsMiwiLCIsIi4iKTsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDU9IiI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLktleT0iRFRMIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuY29tbWl0KCk7IA0KICAgICAgICAgICAgDQogICAgICAgICAgICB9DQogICAgICAgICBpZiAoZnVuZER0bENudCA9PSA0KQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgLy9GaXJzdCBIZWFkZXINCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uRWZiZWdkdC50b1N0cmluZygiTU0tZGQteXl5eSIsImVuIikrICcgdG8gJyArIA0KICAgICAgICAgICAgICAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLkVmZW5kZHQudG9TdHJpbmcoIk1NLWRkLXl5eXkiLCJlbiIpOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMj0iIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDM9IkFzc2V0IENsYXNzIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDQ9IiI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w1PSIiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5LZXk9IkhEUjEiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5jb21taXQoKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy9TZWNvbmQgSGVhZGVyDQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wxID0gIiI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wyPUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclswXS5Bc3RfQ2xzX0xkc2NfVHg7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wzPUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclsxXS5Bc3RfQ2xzX0xkc2NfVHg7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w0PUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclsyXS5Bc3RfQ2xzX0xkc2NfVHg7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w1PUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclszXS5Bc3RfQ2xzX0xkc2NfVHg7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLktleT0iSERSMiI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLmNvbW1pdCgpOyANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy9UaGlyZCBIZWFkZXINCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDEgPSAiRnVuZCBOYW1lIjsNCiAgICAgICAgICAgIGlmKCBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMF0uRnVuZF9JZD09OTk5OSkNCiAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDI9IkFsbCBGdW5kcyBUb3RhbCI7DQogICAgICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wyPUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclswXS5GdW5kX1Nkc2NfVHg7DQogICAgICAgICAgICAgICB9DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wzPUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclsxXS5GdW5kX1Nkc2NfVHg7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w0PUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclsyXS5GdW5kX1Nkc2NfVHg7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w1PUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclszXS5GdW5kX1Nkc2NfVHg7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLktleT0iSERSMyI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLmNvbW1pdCgpOyAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vRGV0YWlsIFJvdw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMSA9IElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4cG9zdHR5cGVzZHNjdHg7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wyPSIkIitJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMF0uQmFsX1ZsX0F0LnRvU3RyaW5nKDIsMiwiLCIsIi4iKTsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDM9IiQiK0lucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclsxXS5CYWxfVmxfQXQudG9TdHJpbmcoMiwyLCIsIiwiLiIpOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sND0iJCIrSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzJdLkJhbF9WbF9BdC50b1N0cmluZygyLDIsIiwiLCIuIik7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w1PSIkIitJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbM10uQmFsX1ZsX0F0LnRvU3RyaW5nKDIsMiwiLCIsIi4iKTsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuS2V5PSJEVEwiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5jb21taXQoKTsgDQogICAgICAgICAgICANCiAgICAgICAgICAgIH0NCiAgICAgICAgIA0KICAgICAgICAgfQ0KICAgICAgZWxzZQ0KICAgICAgICAgew0KICAgICAgICAgLy9JbnQgZnVuZER0bENudCA9IElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9Bci5Db3VudDsNCiAgICAgICAgIA0KICAgICAgICAgaWYgKGZ1bmREdGxDbnQgPT0gMSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy9EZXRhaWwgUm93DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wxID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhwb3N0dHlwZXNkc2N0eDsNCiAgICAgICAgICAgIGlmKElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4X1Bvc3RfVHlwZV9TcT09MyBvciBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeF9Qb3N0X1R5cGVfU3E9PTQgDQogICAgICAgICAgICAgICBvciAgICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeF9Qb3N0X1R5cGVfU3E9PTUgKQ0KICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMj0iJCIrSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzBdLkJhbF9WbF9BdC50b1N0cmluZygyLDIsIiwiLCIuIik7DQogICAgICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICBpZihJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeF9Qb3N0X1R5cGVfU3E9PTYpDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wyPUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclswXS5TY2xfVXQudG9TdHJpbmcoMywzLCIsIiwiLiIpOw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgaWYoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhfUG9zdF9UeXBlX1NxPT03KQ0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMj1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMF0uU2ZfUHJfQXQudG9TdHJpbmcoNiw2LCIsIiwiLiIpOw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMz0iIjsNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDQ9IiI7DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w1PSIiOw0KICAgICAgICAgICAgaWYoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhfUG9zdF9UeXBlX1NxPT01KQ0KICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5LZXk9IkRUTENMUyI7DQogICAgICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmKElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4X1Bvc3RfVHlwZV9TcT09NCkNCiAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuS2V5PSJEVExJTkQiOw0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLktleT0iRFRMIjsNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuY29tbWl0KCk7IA0KICAgICAgICAgICAgDQogICAgICAgICAgICB9DQogICAgICAgICBpZiAoZnVuZER0bENudCA9PSAyKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgDQogICAgICAgICAgICAvL0RldGFpbCBSb3cNCiAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeHBvc3R0eXBlc2RzY3R4Ow0KICAgICAgICAgICAgaWYoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhfUG9zdF9UeXBlX1NxPT0zIG9yIElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4X1Bvc3RfVHlwZV9TcT09NCANCiAgICAgICAgICAgICAgIG9yICAgIElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4X1Bvc3RfVHlwZV9TcT09NSApDQogICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWYoaXNUd29Db2x1bW5uPT10cnVlKQ0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMj0iJCIrSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzBdLkJhbF9WbF9BdC50b1N0cmluZygyLDIsIiwiLCIuIik7DQogICAgICAgICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wzPSIkIitJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMV0uQmFsX1ZsX0F0LnRvU3RyaW5nKDIsMiwiLCIsIi4iKTsNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wyPSIkIitJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMV0uQmFsX1ZsX0F0LnRvU3RyaW5nKDIsMiwiLCIsIi4iKTsNCiAgICAgICAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDM9IiI7DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIGlmKElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4X1Bvc3RfVHlwZV9TcT09NikNCiAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgaWYoaXNUd29Db2x1bW5uPT10cnVlKQ0KICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wyPUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclswXS5TY2xfVXQudG9TdHJpbmcoMywzLCIsIiwiLiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wzPUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclsxXS5TY2xfVXQudG9TdHJpbmcoMywzLCIsIiwiLiIpOzsNCiAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMj1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMV0uU2NsX1V0LnRvU3RyaW5nKDMsMywiLCIsIi4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMz0iIjsNCiAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgaWYoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhfUG9zdF9UeXBlX1NxPT03KQ0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgaWYoaXNUd29Db2x1bW5uPT10cnVlKQ0KICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDI9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzBdLlNmX1ByX0F0LnRvU3RyaW5nKDYsNiwiLCIsIi4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wzPUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclsxXS5TZl9Qcl9BdC50b1N0cmluZyg2LDYsIiwiLCIuIik7Ow0KICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDI9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzFdLlNmX1ByX0F0LnRvU3RyaW5nKDYsNiwiLCIsIi4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDM9IiI7DQogICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgDQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w0PSIiOw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sNT0iIjsNCiAgICAgICAgICAgIGlmKElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4X1Bvc3RfVHlwZV9TcT09NSkNCiAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuS2V5PSJEVExDTFMiOw0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZihJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeF9Qb3N0X1R5cGVfU3E9PTQpDQogICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLktleT0iRFRMSU5EIjsNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5LZXk9IkRUTCI7DQogICAgICAgICAgICAgICB9DQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLmNvbW1pdCgpOyANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgDQogICAgICAgICAgICB9DQogICAgICAgICBpZiAoZnVuZER0bENudCA9PSAzKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vRGV0YWlsIFJvdw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMSA9IElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4cG9zdHR5cGVzZHNjdHg7DQogICAgICAgICAgICBpZihJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeF9Qb3N0X1R5cGVfU3E9PTMgb3IgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhfUG9zdF9UeXBlX1NxPT00IA0KICAgICAgICAgICAgICAgb3IgICAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhfUG9zdF9UeXBlX1NxPT01ICkNCiAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDI9IiQiK0lucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclswXS5CYWxfVmxfQXQudG9TdHJpbmcoMiwyLCIsIiwiLiIpOw0KICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMz0iJCIrSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzFdLkJhbF9WbF9BdC50b1N0cmluZygyLDIsIiwiLCIuIik7DQogICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w0PSIkIitJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMl0uQmFsX1ZsX0F0LnRvU3RyaW5nKDIsMiwiLCIsIi4iKTsNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIGlmKElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4X1Bvc3RfVHlwZV9TcT09NikNCiAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgIGlmKCBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMF0uU2NsX1V0PT0wKQ0KICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMj0iIjsNCiAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDI9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzBdLlNjbF9VdC50b1N0cmluZygzLDMsIiwiLCIuIik7DQogICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDM9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzFdLlNjbF9VdC50b1N0cmluZygzLDMsIiwiLCIuIik7DQogICAgICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w0PUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclsyXS5TY2xfVXQudG9TdHJpbmcoMywzLCIsIiwiLiIpOw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgaWYoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhfUG9zdF9UeXBlX1NxPT03KQ0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgaWYoICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMF0uU2ZfUHJfQXQgPT0wKQ0KICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMj0iIjsNCiAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDI9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzBdLlNmX1ByX0F0LnRvU3RyaW5nKDYsNiwiLCIsIi4iKTsNCiAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMz1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMV0uU2ZfUHJfQXQudG9TdHJpbmcoNiw2LCIsIiwiLiIpOw0KICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sND1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMl0uU2ZfUHJfQXQudG9TdHJpbmcoNiw2LCIsIiwiLiIpOw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w1PSIiOw0KICAgICAgICAgICAgaWYoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhfUG9zdF9UeXBlX1NxPT01KQ0KICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5LZXk9IkRUTENMUyI7DQogICAgICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmKElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4X1Bvc3RfVHlwZV9TcT09NCkNCiAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuS2V5PSJEVExJTkQiOw0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLktleT0iRFRMIjsNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5jb21taXQoKTsgDQogICAgICAgICAgICANCiAgICAgICAgICAgIH0NCiAgICAgICAgIGlmIChmdW5kRHRsQ250ID09IDQpDQogICAgICAgICAgICB7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vRGV0YWlsIFJvdw0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMSA9IElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4cG9zdHR5cGVzZHNjdHg7DQogICAgICAgICAgICBpZihJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeF9Qb3N0X1R5cGVfU3E9PTMgb3IgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhfUG9zdF9UeXBlX1NxPT00IA0KICAgICAgICAgICAgICAgb3IgICAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhfUG9zdF9UeXBlX1NxPT01ICkNCiAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDI9IiQiK0lucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclswXS5CYWxfVmxfQXQudG9TdHJpbmcoMiwyLCIsIiwiLiIpOw0KICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMz0iJCIrSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzFdLkJhbF9WbF9BdC50b1N0cmluZygyLDIsIiwiLCIuIik7DQogICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w0PSIkIitJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMl0uQmFsX1ZsX0F0LnRvU3RyaW5nKDIsMiwiLCIsIi4iKTsNCiAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDU9IiQiK0lucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclszXS5CYWxfVmxfQXQudG9TdHJpbmcoMiwyLCIsIiwiLiIpOw0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgaWYoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhfUG9zdF9UeXBlX1NxPT02KQ0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgaWYoIElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclswXS5TY2xfVXQ9PTApDQogICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2wyPSIiOw0KICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMj1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMF0uU2NsX1V0LnRvU3RyaW5nKDMsMywiLCIsIi4iKTsNCiAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMz1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMV0uU2NsX1V0LnRvU3RyaW5nKDMsMywiLCIsIi4iKTsNCiAgICAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDQ9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzJdLlNjbF9VdC50b1N0cmluZygzLDMsIiwiLCIuIik7DQogICAgICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLkZ1bmRBY3RDb2w1PUlucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFBXS5NdHJ4ZnVuZGR0bF9BclszXS5TY2xfVXQudG9TdHJpbmcoMywzLCIsIiwiLiIpOw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgaWYoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhfUG9zdF9UeXBlX1NxPT03KQ0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgaWYoICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMF0uU2ZfUHJfQXQgPT0wKQ0KICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMj0iIjsNCiAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuRnVuZEFjdENvbDI9SW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhmdW5kZHRsX0FyWzBdLlNmX1ByX0F0LnRvU3RyaW5nKDYsNiwiLCIsIi4iKTsNCiAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sMz1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMV0uU2ZfUHJfQXQudG9TdHJpbmcoNiw2LCIsIiwiLiIpOw0KICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sND1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbMl0uU2ZfUHJfQXQudG9TdHJpbmcoNiw2LCIsIiwiLiIpOw0KICAgICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5GdW5kQWN0Q29sNT1JbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeGZ1bmRkdGxfQXJbM10uU2ZfUHJfQXQudG9TdHJpbmcoNiw2LCIsIiwiLiIpOyANCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZihJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxQV0uTXRyeF9Qb3N0X1R5cGVfU3E9PTUpDQogICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFjdGl2aXR5LkRldGFpbFRhYmxlLktleT0iRFRMQ0xTIjsNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MUFdLk10cnhfUG9zdF9UeXBlX1NxPT00KQ0KICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5LZXk9IkRUTElORCI7DQogICAgICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWN0aXZpdHkuRGV0YWlsVGFibGUuS2V5PSJEVEwiOw0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBY3Rpdml0eS5EZXRhaWxUYWJsZS5jb21taXQoKTsgDQogICAgICAgICAgICANCiAgICAgICAgICAgIH0NCiAgICAgICAgIH0NCiAgICAgIA0KICAgICAgDQogICAgICANCiAgICAgIH0NCiAgIA0KICAgDQogICANCiAgIH0NCg0KDQovKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfNzQ2MUEgDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICAgICANCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgDQogICBmb3IgKEludCBJbmRleDc0NjE7IEluZGV4NzQ2MSA8ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUEuQ291bnQ7IEluZGV4NzQ2MSsrKQ0KICAgew0KICAgT3V0cHV0XzAuUENTLl83NDYxQSA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ2MUFbSW5kZXg3NDYxXTsNCiAgIE91dHB1dF8wLlBDUy5fNzQ2MUEuY29tbWl0KCk7DQogICBPdXRwdXRfMC5QQ1MuQWN0aXZpdHlCeUZ1bmQuVGFibGVCb2R5LkJvZHlDb2x1bW4uQ29sdW1uMT0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MV0uTXRyeHBvc3R0eXBlc2RzY3R4Ow0KICAgDQogICB9DQoNCmZvciAoSW50IEluZGV4NzQ2MTsgSW5kZXg3NDYxIDwgIElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQS5Db3VudDsgSW5kZXg3NDYxKyspDQogICB7ICAgICAgDQogICBPdXRwdXRfMC5QQ1MuQWN0aXZpdHlCeUZ1bmQuVGFibGVCb2R5LkJvZHlDb2x1bW4uQ29sdW1uMT0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0NjFBW0luZGV4NzQ2MV0uTXRyeHBvc3R0eXBlc2RzY3R4Ow0KICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFdLk10cnhmdW5kZHRsX0FyLkNvdW50Pj0xKQ0KICAgICAgew0KICAgICAgT3V0cHV0XzAuUENTLkFjdGl2aXR5QnlGdW5kLlRhYmxlQm9keS5Cb2R5Q29sdW1uLkNvbHVtbjI9IElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFdLk10cnhmdW5kZHRsX0FyWzBdLkJhbF9WbF9BdC50b1N0cmluZygpOw0KICAgICAgfQ0KICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFdLk10cnhmdW5kZHRsX0FyLkNvdW50Pj0yKQ0KICAgICAgeyAgIA0KICAgICAgT3V0cHV0XzAuUENTLkFjdGl2aXR5QnlGdW5kLlRhYmxlQm9keS5Cb2R5Q29sdW1uLkNvbHVtbjM9IElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFdLk10cnhmdW5kZHRsX0FyWzFdLkJhbF9WbF9BdC50b1N0cmluZygpOw0KICAgICAgfQ0KICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFdLk10cnhmdW5kZHRsX0FyLkNvdW50Pj0zKQ0KICAgICAgew0KICAgICAgT3V0cHV0XzAuUENTLkFjdGl2aXR5QnlGdW5kLlRhYmxlQm9keS5Cb2R5Q29sdW1uLkNvbHVtbjQ9IElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFdLk10cnhmdW5kZHRsX0FyWzJdLkJhbF9WbF9BdC50b1N0cmluZygpOyAgICAgIA0KICAgICAgfQ0KICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFdLk10cnhmdW5kZHRsX0FyLkNvdW50Pj00KQ0KICAgICAgew0KICAgICAgT3V0cHV0XzAuUENTLkFjdGl2aXR5QnlGdW5kLlRhYmxlQm9keS5Cb2R5Q29sdW1uLkNvbHVtbjU9IElucHV0XzAuUENTW3JlY29yZHNdLl83NDYxQVtJbmRleDc0NjFdLk10cnhmdW5kZHRsX0FyWzNdLkJhbF9WbF9BdC50b1N0cmluZygpOw0KICAgICAgfQ0KICAgDQogICBPdXRwdXRfMC5QQ1MuQWN0aXZpdHlCeUZ1bmQuVGFibGVCb2R5LkJvZHlDb2x1bW4uY29tbWl0KCk7DQogICB9DQoNCg0KDQovKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfNDQ1OEEgDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICAgICANCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgDQogICBpZihJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNDQ1OEEuQ291bnQgPjApDQogICB7DQogICBJbnQgcHJldmlvdXNGdW5kSWQgPSAwOw0KICAgZm9yKEludCBJbmRleDQ0NTg7IEluZGV4NDQ1OCA8IElucHV0XzAuUENTW3JlY29yZHNdLl80NDU4QS5Db3VudDsgSW5kZXg0NDU4KyspDQogICAgICB7DQogICAgICBpZihwcmV2aW91c0Z1bmRJZCAhPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNDQ1OEFbSW5kZXg0NDU4XS5GdW5kX0lkKQ0KICAgICAgICAgew0KICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBbGxvY2F0aW9uLkNvbDEgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNDQ1OEFbSW5kZXg0NDU4XS5GdW5kX0xkc2NfVHg7DQogICAgICAgICBPdXRwdXRfMC5QQ1MuRnVuZEFsbG9jYXRpb24uQ29sMiA9IElucHV0XzAuUENTW3JlY29yZHNdLl80NDU4QVtJbmRleDQ0NThdLkZ1bmRfTnVtcl9BdC50b1N0cmluZygpOw0KICAgICAgICAgfQ0KICAgICAgZWxzZQ0KICAgICAgICAgew0KICAgICAgICAgT3V0cHV0XzAuUENTLkZ1bmRBbGxvY2F0aW9uLkNvbDMgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNDQ1OEFbSW5kZXg0NDU4XS5GdW5kX051bXJfQXQudG9TdHJpbmcoKTsNCiAgICAgICAgIE91dHB1dF8wLlBDUy5GdW5kQWxsb2NhdGlvbi5jb21taXQoKTsNCiAgICAgICAgIH0NCiAgICAgIHByZXZpb3VzRnVuZElkID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzQ0NThBW0luZGV4NDQ1OF0uRnVuZF9JZDsNCiAgICAgIH0NCiAgIA0KICAgfQ0KDQoNCg0KDQovKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfNzQ4M0EgDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICAgICANCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgaWYgKElucHV0XzAuUENTW3JlY29yZHNdLl83NDgzQS5Db3VudCA+IDApDQogICB7DQogICBmb3IgKEludCBJbmRleDc0ODM7IEluZGV4NzQ4MyA8ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ4M0EuQ291bnQ7IEluZGV4NzQ4MysrKQ0KICAgICAgew0KICAgICAgT3V0cHV0XzAuUENTLl83NDgzQS5NaW5fQWdlX1F5ID0gIElucHV0XzAuUENTW3JlY29yZHNdLl83NDgzQVtJbmRleDc0ODNdLk1pbl9BZ2VfUXk7DQogICAgICBPdXRwdXRfMC5QQ1MuXzc0ODNBLk1heF9BZ2VfUXkgID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0ODNBW0luZGV4NzQ4M10uTWF4X0FnZV9ReTsNCiAgICAgIE91dHB1dF8wLlBDUy5fNzQ4M0EuRGZsdF9QdCA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ4M0FbSW5kZXg3NDgzXS5EZmx0X1B0Ow0KICAgICAgT3V0cHV0XzAuUENTLl83NDgzQS5TcHNfUHQgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNzQ4M0FbSW5kZXg3NDgzXS5TcHNfUHQ7DQogICAgICBPdXRwdXRfMC5QQ1MuXzc0ODNBLkRmbHRfQ2QgPSAgIElucHV0XzAuUENTW3JlY29yZHNdLl83NDgzQVtJbmRleDc0ODNdLkRmbHRfQ2Q7DQogICAgICBPdXRwdXRfMC5QQ1MuXzc0ODNBLlFyeV9GaWxsXzUwX1R4ID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzc0ODNBW0luZGV4NzQ4M10uUXJ5X0ZpbGxfNTBfVHg7DQogICAgICANCiAgICAgIE91dHB1dF8wLlBDUy5fNzQ4M0EuY29tbWl0KCk7DQogICAgICB9DQogICANCiAgIH0NCg0KDQovKioqKioqKioqKioqKioqKioqKioNCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgLyoqKioqKioqKioqKioqKioqKioqDQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICBfUGllIENoYXJ0DQogICAvKioqKioqKioqKioqKioqKioqKiogICAgICAgICAgICANCiAgIC8qKioqKioqKioqKioqKioqKioqKg0KICAgKioqKioqKioqKioqKioqKioqKioqLw0KICAgDQogICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzODBBLkNvdW50ID4gMCkNCiAgIHsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM4MEEuVG90X1ZJICAgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM4MEFbMF0uVG90X1ZsLnRvU3RyaW5nKDIsMiwiLCIsIi4iKTsNCiAgIE91dHB1dF8wLlBDUy5GaXJzdE9mVHJlZS5fNTM4MEEuUXJ5X1VzZV9DZCAgID0gSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzODBBWzBdLlFyeV9Vc2VfQ2Q7DQogICBpZiAoSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzODBBLkNvdW50ID4gMSkgICAvL25lZWQgdG8gbG9rIGludG8gcmVjb3JkIDINCiAgICAgIHsNCiAgICAgIGZvciAoSW50IFBpZUNoYXJ0SW5kZXggPSAwOyBQaWVDaGFydEluZGV4IDwgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzODBBWzFdLkFjY3RiYWxpbmZvX0FyLkNvdW50OyBQaWVDaGFydEluZGV4KyspDQogICAgICAgICB7DQogICAgICAgICANCiAgICAgICAgIE91dHB1dF8wLlBDUy5QaWVDaGFydEFjY3RiYWxpbmZvX0FyLkludnNfUHQgPSAgSW5wdXRfMC5QQ1NbcmVjb3Jkc10uXzUzODBBWzFdLkFjY3RiYWxpbmZvX0FyW1BpZUNoYXJ0SW5kZXhdLkludnNfUHQ7DQogICAgICAgICBPdXRwdXRfMC5QQ1MuUGllQ2hhcnRBY2N0YmFsaW5mb19Bci5JbnZzX1B0X1N0cmluZyA9ICBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM4MEFbMV0uQWNjdGJhbGluZm9fQXJbUGllQ2hhcnRJbmRleF0uSW52c19QdC50b1N0cmluZygyLDIsIiwiLCIuIik7DQogICAgICAgICANCiAgICAgICAgIE91dHB1dF8wLlBDUy5QaWVDaGFydEFjY3RiYWxpbmZvX0FyLkJhbF9WbF9BdCAgPSBJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM4MEFbMV0uQWNjdGJhbGluZm9fQXJbUGllQ2hhcnRJbmRleF0uQmFsX1ZsX0F0LnRvU3RyaW5nKDIsMiwiLCIsIi4iKTsNCiAgICAgICAgIA0KICAgICAgICAgDQogICAgICAgICBpcyhJbnB1dF8wLlBDU1tyZWNvcmRzXS5fNTM4MEFbMV0uQWNjdGJhbGluZm9fQXJbUGllQ2hhcnRJbmRleF0uQnJuZF9DZCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICJFRS1BQ0NUIjogT3V0cHV0XzAuUENTLlBpZUNoYXJ0QWNjdGJhbGluZm9fQXIuUGllQ2hhcnRMYWJlbCA9ICJZb3UiICAgOw0KICAgICAgICAgICAgIkVSLUFDQ1QiOiBPdXRwdXRfMC5QQ1MuUGllQ2hhcnRBY2N0YmFsaW5mb19Bci5QaWVDaGFydExhYmVsID0gIkVtcGxveWVyIiAgOw0KICAgICAgICAgICAgZWxzZSAgT3V0cHV0XzAuUENTLlBpZUNoYXJ0QWNjdGJhbGluZm9fQXIuUGllQ2hhcnRMYWJlbCA9IElucHV0XzAuUENTW3JlY29yZHNdLl81MzgwQVsxXS5BY2N0YmFsaW5mb19BcltQaWVDaGFydEluZGV4XS5HbnJjX0xkc2NfVHggOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgT3V0cHV0XzAuUENTLlBpZUNoYXJ0QWNjdGJhbGluZm9fQXIuY29tbWl0KCk7DQogICAgICAgICB9DQogICAgICANCiAgICAgIH0NCiAgIH0NCg0KT3V0cHV0XzAuUENTLmNvbW1pdCgpOw0KfQ0KDQpGaWxlLkZpbGVJbmZvTGlzdCBmaWxlSW5mb2xpc3Q7DQogICBGaWxlLmxpc3QoZmlsZUluZm9saXN0LEZpbGUuTGlzdFBhcmFtLkFsbFJlY3Vyc2l2ZSwidmNzOlxcQWxpZ2h0XFJlc291cmNlc1xJbWFnZXNcUENTXFRCQVxDbGllbnRcIik7DQogICBmb3IoSW50IGk9MDtpPGZpbGVJbmZvbGlzdC5TaXplO2krKykNCiAgICAgIHsNCiAgICAgICAgIE91dHB1dF8wLkxvZ29pbWFnZXMuSW1hZ2VzbGlzdCA9IGZpbGVJbmZvbGlzdFtpXS5Mb2NhdGlvbjsNCiAgICAgIE91dHB1dF8wLkxvZ29pbWFnZXMuY29tbWl0KCk7DQogICAgICB9DQoNCg
